(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,86536,e=>{"use strict";let s=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>s],86536)},55436,e=>{"use strict";let s=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>s],55436)},93479,e=>{"use strict";var s=e.i(43476);let t=e.i(71645).forwardRef(({className:e,type:t,...r},a)=>(0,s.jsx)("input",{type:t,className:`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${e||""}`,ref:a,...r}));t.displayName="Input",e.s(["Input",()=>t])},87486,e=>{"use strict";var s=e.i(43476);let t=(0,e.i(25913).cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function r({className:e,variant:r,...a}){return(0,s.jsx)("div",{className:t({variant:r,className:e}),...a})}e.s(["Badge",()=>r])},87316,e=>{"use strict";let s=(0,e.i(75254).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>s],87316)},52200,e=>{"use strict";var s=e.i(43476),t=e.i(43432),r=e.i(63488),a=e.i(46897),l=e.i(75240);function i({className:e=""}){let{getPlatformInfo:i}=(0,l.usePaymentMethods)(),c=i();return(0,s.jsxs)("div",{className:`text-xs text-gray-600 space-y-1 ${e}`,children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(t.Phone,{className:"h-3 w-3 mr-2 text-gray-500"}),(0,s.jsx)("span",{children:c.phone})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(r.Mail,{className:"h-3 w-3 mr-2 text-gray-500"}),(0,s.jsx)("span",{children:c.email})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(a.MapPin,{className:"h-3 w-3 mr-2 text-gray-500"}),(0,s.jsx)("span",{children:c.address})]})]})}e.s(["default",()=>i])},87130,e=>{"use strict";let s=(0,e.i(75254).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);e.s(["Filter",()=>s],87130)},67489,e=>{"use strict";var s=e.i(43476),t=e.i(71645);let r=t.forwardRef(({className:e,value:t,onValueChange:r,onChange:a,children:l,...i},c)=>(0,s.jsx)("select",{ref:c,value:t,onChange:e=>{a?.(e),r?.(e.target.value)},className:`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${e||""}`,"aria-label":i["aria-label"]||i.title||"Select option",...i,children:l}));r.displayName="Select";let a=t.forwardRef(({className:e,children:t,...r},a)=>(0,s.jsx)("button",{ref:a,className:`flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${e||""}`,...r,children:t}));a.displayName="SelectTrigger";let l=({children:e})=>(0,s.jsx)("div",{className:"relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md",children:e}),i=t.forwardRef(({className:e,children:t,...r},a)=>(0,s.jsx)("option",{ref:a,className:`relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground ${e||""}`,...r,children:t}));i.displayName="SelectItem";let c=({placeholder:e=""})=>(0,s.jsx)("span",{className:"block truncate",children:e});e.s(["Select",()=>r,"SelectContent",()=>l,"SelectItem",()=>i,"SelectTrigger",()=>a,"SelectValue",()=>c])},88605,e=>{"use strict";var s=e.i(43476),t=e.i(71645),r=e.i(15288),a=e.i(52200),l=e.i(87486),i=e.i(19455),c=e.i(93479),n=e.i(67489),d=e.i(55436),o=e.i(87130),u=e.i(90597),m=e.i(86536),x=e.i(46897),g=e.i(87316),h=e.i(90676);function f(){let[e,f]=(0,t.useState)([]),[p,j]=(0,t.useState)(!0),[y,b]=(0,t.useState)(""),[v,N]=(0,t.useState)("all"),[w,S]=(0,t.useState)("created_at");(0,t.useEffect)(()=>{C()},[v,w]);let C=async()=>{try{j(!0);let e=h.supabaseClient.from("listings").select(`
          *,
          seller:users!listings_seller_id_fkey(
            full_name,
            email
          ),
          media:listing_media(
            url,
            media_type
          )
        `).eq("status","available").or("featured.eq.true,promoted.eq.true");"all"!==v&&(e=e.eq("category",v)),e=e.order(w,{ascending:!1}).limit(50);let{data:s,error:t}=await e;t?console.error("Error fetching featured listings:",t):f(s||[])}catch(e){console.error("Error:",e)}finally{j(!1)}},k=e.filter(e=>e.title.toLowerCase().includes(y.toLowerCase())||e.description.toLowerCase().includes(y.toLowerCase()));return p?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),(0,s.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading featured listings..."})]})})}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Featured Listings"}),(0,s.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Handpicked properties and items from trusted sellers. These listings are featured for their quality, value, and popularity."})]}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(d.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,s.jsx)(c.Input,{placeholder:"Search listings...",value:y,onChange:e=>b(e.target.value),className:"pl-10"})]}),(0,s.jsxs)(n.Select,{value:v,onValueChange:N,children:[(0,s.jsx)(n.SelectTrigger,{children:(0,s.jsx)(n.SelectValue,{placeholder:"Category"})}),(0,s.jsxs)(n.SelectContent,{children:[(0,s.jsx)(n.SelectItem,{value:"all",children:"All Categories"}),(0,s.jsx)(n.SelectItem,{value:"houses",children:"Houses & Apartments"}),(0,s.jsx)(n.SelectItem,{value:"cars",children:"Cars & Vehicles"}),(0,s.jsx)(n.SelectItem,{value:"land",children:"Land & Plots"}),(0,s.jsx)(n.SelectItem,{value:"other",children:"Other Items"})]})]}),(0,s.jsxs)(n.Select,{value:w,onValueChange:S,children:[(0,s.jsx)(n.SelectTrigger,{children:(0,s.jsx)(n.SelectValue,{placeholder:"Sort by"})}),(0,s.jsxs)(n.SelectContent,{children:[(0,s.jsx)(n.SelectItem,{value:"created_at",children:"Newest First"}),(0,s.jsx)(n.SelectItem,{value:"price",children:"Price: Low to High"}),(0,s.jsx)(n.SelectItem,{value:"views",children:"Most Viewed"}),(0,s.jsx)(n.SelectItem,{value:"likes",children:"Most Liked"})]})]}),(0,s.jsxs)(i.Button,{onClick:C,variant:"outline",children:[(0,s.jsx)(o.Filter,{className:"h-4 w-4 mr-2"}),"Apply Filters"]})]})}),(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsxs)("p",{className:"text-gray-600",children:["Showing ",k.length," featured listing",1!==k.length?"s":""]})}),0===k.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"text-gray-400 text-6xl mb-4",children:"ðŸ”"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No featured listings found"}),(0,s.jsx)("p",{className:"text-gray-600",children:y||"all"!==v?"Try adjusting your filters or search query":"Check back later for new featured listings"})]}):(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(e=>{let t,c;return(0,s.jsxs)(r.Card,{className:"hover:shadow-lg transition-shadow duration-200",children:[(0,s.jsxs)(r.CardHeader,{className:"pb-3",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)(l.Badge,{className:`${(e=>{switch(e){case"houses":return"bg-blue-100 text-blue-800";case"cars":return"bg-green-100 text-green-800";case"land":return"bg-yellow-100 text-yellow-800";default:return"bg-purple-100 text-purple-800"}})(e.category)} border-0`,children:[(e=>{switch(e){case"houses":return"ðŸ ";case"cars":return"ðŸš—";case"land":return"ðŸŒ³";default:return"ðŸ“¦"}})(e.category)," ",e.category]}),(0,s.jsxs)("div",{className:"flex gap-1",children:[e.featured&&(0,s.jsx)(l.Badge,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"â­ Featured"}),e.promoted&&(0,s.jsx)(l.Badge,{variant:"secondary",className:"bg-red-100 text-red-800",children:"ðŸš€ Promoted"})]})]}),(0,s.jsx)(r.CardTitle,{className:"text-lg line-clamp-2",children:e.title})]}),(0,s.jsxs)(r.CardContent,{children:[e.media&&e.media.length>0&&(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)("img",{src:e.media[0].url,alt:e.title,className:"w-full h-48 object-cover rounded-lg"})}),(0,s.jsxs)("div",{className:"text-2xl font-bold text-red-600 mb-3",children:[(t=e.price,c=e.currency,new Intl.NumberFormat("en-RW",{style:"currency",currency:"RWF"===c?"RWF":"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)),"negotiable"===e.price_type&&(0,s.jsx)("span",{className:"text-sm text-gray-500 ml-2",children:"(Negotiable)"})]}),(0,s.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:e.description}),e.location&&"object"==typeof e.location&&(0,s.jsxs)("div",{className:"flex items-center text-gray-500 text-sm mb-3",children:[(0,s.jsx)(x.MapPin,{className:"h-4 w-4 mr-1"}),e.location?.district||"Location not specified"]}),(0,s.jsx)(a.default,{className:"mb-4"}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(m.Eye,{className:"h-4 w-4"}),e.views]}),(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(u.Heart,{className:"h-4 w-4"}),e.likes]})]}),(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(g.Calendar,{className:"h-4 w-4"}),new Date(e.created_at).toLocaleDateString()]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Listed by"}),(0,s.jsx)("p",{className:"font-medium text-gray-900",children:e.seller?.full_name||"Anonymous"})]}),(0,s.jsx)(i.Button,{asChild:!0,children:(0,s.jsx)("a",{href:`/listings/${e.category}/${e.id}`,children:"View Details"})})]})]})]},e.id)})})]})})}e.s(["default",()=>f])}]);