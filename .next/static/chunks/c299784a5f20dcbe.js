(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,93479,e=>{"use strict";var t=e.i(43476);let s=e.i(71645).forwardRef(({className:e,type:s,...a},r)=>(0,t.jsx)("input",{type:s,className:`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${e||""}`,ref:r,...a}));s.displayName="Input",e.s(["Input",()=>s])},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},67489,e=>{"use strict";var t=e.i(43476),s=e.i(71645);let a=s.forwardRef(({className:e,value:s,onValueChange:a,onChange:r,children:i,...n},l)=>(0,t.jsx)("select",{ref:l,value:s,onChange:e=>{r?.(e),a?.(e.target.value)},className:`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${e||""}`,"aria-label":n["aria-label"]||n.title||"Select option",...n,children:i}));a.displayName="Select";let r=s.forwardRef(({className:e,children:s,...a},r)=>(0,t.jsx)("button",{ref:r,className:`flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${e||""}`,...a,children:s}));r.displayName="SelectTrigger";let i=({children:e})=>(0,t.jsx)("div",{className:"relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md",children:e}),n=s.forwardRef(({className:e,children:s,...a},r)=>(0,t.jsx)("option",{ref:r,className:`relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground ${e||""}`,...a,children:s}));n.displayName="SelectItem";let l=({placeholder:e=""})=>(0,t.jsx)("span",{className:"block truncate",children:e});e.s(["Select",()=>a,"SelectContent",()=>i,"SelectItem",()=>n,"SelectTrigger",()=>r,"SelectValue",()=>l])},10204,e=>{"use strict";var t=e.i(43476);let s=e.i(71645).forwardRef(({className:e,...s},a)=>(0,t.jsx)("label",{ref:a,className:`text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 ${e||""}`,...s}));s.displayName="Label",e.s(["Label",()=>s])},7471,e=>{"use strict";var t=e.i(47167),s=e.i(88715);let a="https://swshkufpktnacbotddpb.supabase.co",r=t.default.env.SUPABASE_SERVICE_ROLE_KEY,i=(0,s.createClient)(a,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN3c2hrdWZwa3RuYWNib3RkZHBiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA0NTE4MzksImV4cCI6MjA4NjAyNzgzOX0.XjlJZscCno-_czhwXqwdSlKgUUpDZty6i37mtwqcnA8"),n=r?(0,s.createClient)(a,r):i;e.s(["supabase",0,i,"supabaseAdmin",0,n])},6239,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(18566),r=e.i(22016),i=e.i(71689),n=e.i(69638),l=e.i(63209),c=e.i(19455),o=e.i(15288),d=e.i(87486),m=e.i(93479),u=e.i(10204),h=e.i(67489),x=e.i(7471);function p({amount:e,currency:a="RWF",transactionType:r,listingId:i,adCampaignId:n,description:l,promotionPackage:p,listingTitle:g,onPaymentComplete:y,onPaymentError:f}){let[b,j]=(0,s.useState)("wallet"),[N,v]=(0,s.useState)(!1),[w,S]=(0,s.useState)(null),[_,C]=(0,s.useState)(""),[k,P]=(0,s.useState)("bitcoin"),[I,T]=(0,s.useState)([]),[A,E]=(0,s.useState)(null),[B,L]=(0,s.useState)(0),[F,R]=(0,s.useState)(0),[q,M]=(0,s.useState)({});(0,s.useEffect)(()=>{O(),$()},[]),(0,s.useEffect)(()=>{U()},[b,e,p,q]),(0,s.useEffect)(()=>{"crypto"===b&&D()},[b,k,e,A]),(0,s.useEffect)(()=>{(async()=>{if(["equity_bank","crypto","mtn_momo","airtel_money"].includes(b))try{let e=await fetch(`/api/payments/config/${b}`),t=await e.json();e.ok&&t?.config&&M(e=>({...e,[b]:t.config}))}catch(e){console.error("Failed to load payment config:",e)}})()},[b]);let O=async()=>{try{let e=await fetch("/api/payments/methods"),t=await e.json();if(e.ok&&t?.methods)return void T(t.methods.filter(e=>e.isActive))}catch(e){console.error("Failed to load payment methods:",e)}T([{id:"wallet",name:"wallet",displayName:"Wallet Balance",icon:"/icons/wallet.svg",description:"Use your available wallet balance",isActive:!0},{id:"mtn_momo",name:"mtn_momo",displayName:"MTN Mobile Money",icon:"/icons/mtn-momo.png",description:"Pay with MTN Mobile Money",isActive:!0,requiresPhone:!0},{id:"airtel_money",name:"airtel_money",displayName:"Airtel Money",icon:"/icons/airtel-money.png",description:"Pay with Airtel Money",isActive:!0,requiresPhone:!0},{id:"equity_bank",name:"equity_bank",displayName:"Equity Bank",icon:"/icons/equity-bank.png",description:"Bank transfer to Equity Bank",isActive:!0},{id:"crypto",name:"crypto",displayName:"Cryptocurrency",icon:"/icons/crypto.png",description:"Pay with Bitcoin, Ethereum, or USDT",isActive:!0,requiresCryptoSelection:!0,supportedCryptos:["bitcoin","ethereum","usdt"]}])},$=async()=>{try{let{data:{user:e}}=await x.supabase.auth.getUser();if(e){let{data:t}=await x.supabase.from("user_wallets").select("*").eq("user_id",e.id).single();S(t)}}catch(e){console.error("Failed to load user wallet:",e)}},U=()=>{let t=e;p&&(t=p.price);let s=0;if("wallet"!==b){let e=q[b]||{},a=Number(e.transaction_fee_percent||0),r=Number(e.fixed_fee||0);a||r?s=a/100*t+r:"crypto"===b&&(s=.01*t)}E({subtotal:t,transactionFee:s,total:t+s,currency:a,paymentMethod:b,promotionPackage:p,listingTitle:g})},D=async()=>{try{let t=await fetch(`/api/payments/exchange-rate?from=${{bitcoin:"BTC",ethereum:"ETH",usdt:"USDT"}[k]}&to=RWF`),s=await t.json();if(!t.ok||!s?.rate)throw Error(s?.error||"Exchange rate unavailable");let a=(A?.total||e)/Number(s.rate);L(a),R(Number(s.rate))}catch(e){console.error("Failed to calculate crypto amount:",e)}},z=async()=>{v(!0);try{let{data:{session:t}}=await x.supabase.auth.getSession();if(!t?.access_token)return void f?.("User not authenticated");let s={payment_method:b,amount:A?.subtotal||e,currency:a,transaction_type:r||"payment",listing_id:i,ad_campaign_id:n,description:l||`Payment for ${r}`,metadata:{promotion_package_id:p?.id,listing_title:g},phone_number:_,crypto_type:k},c=await fetch("/api/payments/initiate",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.access_token}`},body:JSON.stringify(s)}),o=await c.json();c.ok&&o.success?y?.(o):f?.(o.error||"Payment failed")}catch(e){console.error("Payment error:",e),f?.(e.message||"Payment failed")}finally{v(!1)}},X=w&&w.balance>=(A?.total||e),J=q.equity_bank||{},W=q.crypto||{},H={bitcoin:W?.bitcoin?.wallet_address,ethereum:W?.ethereum?.wallet_address,usdt:W?.usdt?.wallet_address};return(0,t.jsxs)("div",{className:"space-y-6",children:[A&&(0,t.jsxs)(o.Card,{children:[(0,t.jsx)(o.CardHeader,{children:(0,t.jsx)(o.CardTitle,{children:"Payment Summary"})}),(0,t.jsxs)(o.CardContent,{className:"space-y-3",children:[p&&(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Promotion Package:"}),(0,t.jsx)("span",{className:"font-medium",children:p.name})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Subtotal:"}),(0,t.jsxs)("span",{children:[A.subtotal.toLocaleString()," ",A.currency]})]}),A.transactionFee>0&&(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Transaction Fee:"}),(0,t.jsxs)("span",{children:[A.transactionFee.toLocaleString()," ",A.currency]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-lg font-bold",children:[(0,t.jsx)("span",{children:"Total:"}),(0,t.jsxs)("span",{className:"text-red-600",children:[A.total.toLocaleString()," ",A.currency]})]})]})]}),w&&(0,t.jsx)(o.Card,{children:(0,t.jsx)(o.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Available Balance"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[w.balance.toLocaleString()," ",w.currency]}),w.locked_balance>0&&(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["Pending: ",w.locked_balance.toLocaleString()," ",w.currency]})]}),X?(0,t.jsx)(d.Badge,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Available"}):(0,t.jsx)(d.Badge,{variant:"destructive",children:"Insufficient"})]})})}),(0,t.jsxs)(o.Card,{children:[(0,t.jsx)(o.CardHeader,{children:(0,t.jsx)(o.CardTitle,{children:"Select Payment Method"})}),(0,t.jsx)(o.CardContent,{className:"space-y-4",children:(0,t.jsx)("div",{className:"grid gap-3",children:I.map(s=>(0,t.jsxs)("div",{className:`relative border rounded-lg p-4 cursor-pointer transition-all ${b===s.id?"border-red-500 bg-red-50":"border-gray-200 hover:border-gray-300"} ${!X&&"wallet"===s.id?"opacity-50 cursor-not-allowed":""}`,onClick:()=>{("wallet"!==s.id||X)&&j(s.id)},children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("input",{type:"radio",name:"payment_method",value:s.id,checked:b===s.id,onChange:()=>{},disabled:!X&&"wallet"===s.id,className:"h-4 w-4 text-red-600 focus:ring-red-500"}),(0,t.jsx)("img",{src:s.icon,alt:s.displayName,className:"h-8 w-8 object-contain",onError:e=>{e.currentTarget.style.display="none"}}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"font-medium",children:s.displayName}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:s.description})]}),s.isActive&&(0,t.jsx)(d.Badge,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Active"})]}),s.requiresPhone&&b===s.id&&(0,t.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,t.jsx)(u.Label,{htmlFor:`${s.id}_phone`,children:"Phone Number"}),(0,t.jsx)(m.Input,{id:`${s.id}_phone`,type:"tel",placeholder:"078X XXX XXX",value:_,onChange:e=>C(e.target.value),className:"mt-2"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"You will receive a payment prompt on your phone"})]}),s.requiresCryptoSelection&&b===s.id&&(0,t.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,t.jsx)(u.Label,{htmlFor:"crypto_type",children:"Select Cryptocurrency"}),(0,t.jsxs)(h.Select,{value:k,onValueChange:e=>P(e),children:[(0,t.jsx)(h.SelectTrigger,{children:(0,t.jsx)(h.SelectValue,{})}),(0,t.jsxs)(h.SelectContent,{children:[(0,t.jsx)(h.SelectItem,{value:"bitcoin",children:"Bitcoin (BTC)"}),(0,t.jsx)(h.SelectItem,{value:"ethereum",children:"Ethereum (ETH)"}),(0,t.jsx)(h.SelectItem,{value:"usdt",children:"USDT"})]})]}),(0,t.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,t.jsxs)("p",{className:"text-sm",children:[(0,t.jsx)("span",{className:"font-medium",children:"Amount: "}),B.toFixed(8)," ",k.toUpperCase()]}),(0,t.jsxs)("p",{className:"text-sm",children:[(0,t.jsx)("span",{className:"font-medium",children:"≈ "}),e.toLocaleString()," ",a]}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["Exchange rate: 1 ",k.toUpperCase()," ≈ ",F.toLocaleString()," RWF"]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.Label,{children:"Send to:"}),(0,t.jsx)("div",{className:"bg-white border p-3 rounded font-mono text-sm",children:H[k]||"Wallet address not configured"}),(0,t.jsx)(c.Button,{variant:"outline",size:"sm",className:"w-full",children:"Copy Address"})]})]}),"equity_bank"===s.id&&b===s.id&&(0,t.jsx)("div",{className:"mt-4 space-y-3",children:(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Bank Transfer Instructions"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Bank:"})," Equity Bank Rwanda"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Account Name:"})," ",J.account_name||"Not configured"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Account Number:"})," ",J.account_number||"Not configured"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Reference:"})," IKZ",Date.now()]})]}),(0,t.jsx)("p",{className:"text-xs text-gray-600 mt-2",children:"Please include the reference number in your transfer description"})]})})]},s.id))})})]}),(0,t.jsxs)("div",{className:"flex space-x-4",children:[(0,t.jsx)(c.Button,{variant:"outline",className:"flex-1",children:"Cancel"}),(0,t.jsx)(c.Button,{onClick:z,disabled:N||!b||"wallet"===b&&!X,className:"flex-1 bg-red-600 hover:bg-red-700",children:N?"Processing...":`Pay ${A?.total?.toLocaleString()||e.toLocaleString()} ${a}`})]})]})}var g=e.i(90676),y=e.i(57951);let f={featured:{id:"featured",name:"Featured Listing",description:"Top placement and featured badge for 30 days",price:5e3,duration_days:30,features:["Top placement in search results","Featured badge","Increased visibility"],is_active:!0,sort_order:1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},urgent:{id:"urgent",name:"Urgent Listing",description:"Urgent badge and higher ranking for 14 days",price:3e3,duration_days:14,features:["Urgent badge","Higher ranking","Priority support"],is_active:!0,sort_order:2,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},video:{id:"video",name:"Video Showcase",description:"Video showcase for your listing for 7 days",price:4e3,duration_days:7,features:["Video showcase","Enhanced gallery","Social media sharing"],is_active:!0,sort_order:3,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},social:{id:"social",name:"Social Media Promotion",description:"Social media promotion for 3 days",price:1e3,duration_days:3,features:["Social media posts","Targeted advertising","Performance tracking"],is_active:!0,sort_order:4,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}};function b(){let e=(0,a.useRouter)(),m=(0,a.useSearchParams)(),{user:u}=(0,y.useAuth)(),[h,x]=(0,s.useState)(""),[b,j]=(0,s.useState)(""),[N,v]=(0,s.useState)(""),[w,S]=(0,s.useState)(!1),[_,C]=(0,s.useState)(""),[k,P]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let t=m.get("listing_id"),s=m.get("promotion");t&&s?(x(t),j(s),I(t)):e.push("/dashboard/my-listings")},[m,e]);let I=async e=>{try{let{data:{session:t}}=await g.supabaseClient.auth.getSession();if(!t?.access_token)throw Error("Not authenticated");let s=await fetch(`/api/listings/${e}`,{headers:{Authorization:`Bearer ${t.access_token}`}});if(!s.ok)throw Error("Failed to fetch listing");let a=await s.json();a.success&&a.data&&v(a.data.title)}catch(e){console.error("Error fetching listing:",e),C("Failed to load listing details")}},T=async t=>{S(!0);try{let{data:{session:s}}=await g.supabaseClient.auth.getSession();if(!s?.access_token)throw Error("Not authenticated");let a=f[b],r=await fetch("/api/promotions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.access_token}`},body:JSON.stringify({listing_id:h,promotion_type:b,price:a.price,duration_days:a.duration_days,payment_transaction_id:t.transaction?.id})}),i=await r.json();if(i.success)P(!0),setTimeout(()=>{e.push("/dashboard/my-listings?promotion_success=true")},3e3);else throw Error(i.error||"Failed to create promotion")}catch(e){console.error("Error creating promotion:",e),C(e.message||"Failed to create promotion after payment")}finally{S(!1)}},A=f[b];return h&&b&&A?k?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center max-w-md mx-auto",children:[(0,t.jsx)(n.CheckCircle,{className:"h-16 w-16 text-green-600 mx-auto mb-4"}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Successful!"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"Your listing has been successfully promoted. You will be redirected to your listings shortly."}),(0,t.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:[(0,t.jsx)("h3",{className:"font-semibold text-green-800 mb-2",children:"Promotion Details"}),(0,t.jsxs)("div",{className:"text-sm text-green-700 space-y-1",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Promotion:"})," ",A.name]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Duration:"})," ",A.duration_days," days"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Amount Paid:"})," ",A.price.toLocaleString()," RWF"]})]})]}),(0,t.jsx)(r.default,{href:"/dashboard/my-listings",children:(0,t.jsx)(c.Button,{className:"bg-red-600 hover:bg-red-700",children:"Go to My Listings"})})]})}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)(r.default,{href:"/dashboard/my-listings",className:"inline-flex items-center text-gray-600 hover:text-gray-900 mb-4",children:[(0,t.jsx)(i.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back to My Listings"]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Complete Your Promotion Payment"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Pay for your listing promotion to increase visibility"})]})]}),_&&(0,t.jsx)("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)(l.AlertCircle,{className:"h-5 w-5 text-red-600 mt-0.5 mr-3"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Payment Error"}),(0,t.jsx)("p",{className:"text-sm text-red-700 mt-1",children:_})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsxs)(o.Card,{children:[(0,t.jsx)(o.CardHeader,{children:(0,t.jsx)(o.CardTitle,{children:"Promotion Summary"})}),(0,t.jsxs)(o.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-900 mb-1",children:"Listing"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 truncate",children:N||"Loading..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-900 mb-1",children:"Promotion Package"}),(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"font-medium text-red-800",children:A.name}),(0,t.jsxs)(d.Badge,{variant:"secondary",className:"bg-red-100 text-red-800",children:[A.duration_days," days"]})]}),(0,t.jsx)("p",{className:"text-sm text-red-700 mb-2",children:A.description}),(0,t.jsxs)("div",{className:"text-2xl font-bold text-red-600",children:[A.price.toLocaleString()," RWF"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Features Included"}),(0,t.jsx)("ul",{className:"space-y-1",children:A.features.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-center text-sm text-gray-600",children:[(0,t.jsx)(n.CheckCircle,{className:"h-4 w-4 text-green-600 mr-2 flex-shrink-0"}),e]},s))})]})]})]})}),(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsxs)(o.Card,{children:[(0,t.jsx)(o.CardHeader,{children:(0,t.jsx)(o.CardTitle,{children:"Payment Details"})}),(0,t.jsx)(o.CardContent,{children:w?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Processing payment..."})]}):(0,t.jsx)(p,{amount:A.price,currency:"RWF",transactionType:"promotion",listingId:h,description:`Promotion payment for ${A.name}`,promotionPackage:A,listingTitle:N,onPaymentComplete:T,onPaymentError:e=>{C(e)}})})]})})]})]})}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(l.AlertCircle,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Invalid Payment Request"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"Missing required payment information"}),(0,t.jsx)(r.default,{href:"/dashboard/my-listings",children:(0,t.jsx)(c.Button,{className:"bg-red-600 hover:bg-red-700",children:"Back to My Listings"})})]})})}e.s(["default",()=>b],6239)}]);