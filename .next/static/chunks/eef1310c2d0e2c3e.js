(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,71689,e=>{"use strict";let s=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>s],71689)},86311,e=>{"use strict";let s=(0,e.i(75254).default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);e.s(["MessageSquare",()=>s],86311)},52200,e=>{"use strict";var s=e.i(43476),t=e.i(43432),r=e.i(63488),a=e.i(46897),i=e.i(75240);function l({className:e=""}){let{getPlatformInfo:l}=(0,i.usePaymentMethods)(),n=l();return(0,s.jsxs)("div",{className:`text-xs text-gray-600 space-y-1 ${e}`,children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(t.Phone,{className:"h-3 w-3 mr-2 text-gray-500"}),(0,s.jsx)("span",{children:n.phone})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(r.Mail,{className:"h-3 w-3 mr-2 text-gray-500"}),(0,s.jsx)("span",{children:n.email})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(a.MapPin,{className:"h-3 w-3 mr-2 text-gray-500"}),(0,s.jsx)("span",{children:n.address})]})]})}e.s(["default",()=>l])},23066,e=>{"use strict";var s=e.i(43476),t=e.i(71645),r=e.i(90597),a=e.i(19455),i=e.i(86909);function l({listingId:e,className:l="",size:n="md",showText:o=!1}){let[d,c]=(0,t.useState)(!1),[u,h]=(0,t.useState)(!0),[m,f]=(0,t.useState)(null),[g,v]=(0,t.useState)(null),x={sm:"h-8 w-8",md:"h-10 w-10",lg:"h-12 w-12"},p={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6"};(0,t.useEffect)(()=>{(async()=>{try{let s=await (0,i.getCurrentUser)();if(!s)return void h(!1);f(s);let{data:t}=await i.supabase.from("listings").select("likes").eq("id",e).single();v(t);let{data:r,error:a}=await i.supabase.from("favorite_listings").select("*").eq("user_id",s.id).eq("listing_id",e).single();a&&"PGRST116"!==a.code?console.error("Error checking favorite status:",a):c(!!r)}catch(e){console.error("Error checking favorite status:",e)}finally{h(!1)}})()},[e]);let w=async()=>{if(!m)return void alert("Please login to favorite listings");try{if(d){let{error:s}=await i.supabase.from("favorite_listings").delete().eq("user_id",m.id).eq("listing_id",e);if(s)throw s;c(!1),await i.supabase.rpc("sql",{sql:`SELECT decrement_likes('${e}')`})}else{let{error:s}=await i.supabase.from("favorite_listings").insert({user_id:m.id,listing_id:e});if(s)throw s;c(!0),await i.supabase.rpc("sql",{sql:`SELECT increment_likes('${e}')`})}}catch(e){console.error("Error toggling favorite:",e),alert("Error updating favorites. Please try again.")}};return u?(0,s.jsx)(a.Button,{variant:"outline",className:`${l} ${x[n]}`,disabled:!0,children:(0,s.jsx)(r.Heart,{className:`${p[n]} animate-pulse`})}):(0,s.jsxs)(a.Button,{variant:"outline",className:`${l} ${x[n]} ${d?"bg-red-50 border-red-200 text-red-600 hover:bg-red-100":"hover:bg-red-50 hover:border-red-200 hover:text-red-600"}`,onClick:w,title:d?"Remove from favorites":"Add to favorites",children:[(0,s.jsx)(r.Heart,{className:`${p[n]} ${d?"fill-current":""}`}),o&&(0,s.jsx)("span",{className:"ml-2",children:d?"Favorited":"Favorite"})]})}e.s(["default",()=>l])},9553,e=>{e.v(e=>Promise.resolve().then(()=>e(90676)))}]);