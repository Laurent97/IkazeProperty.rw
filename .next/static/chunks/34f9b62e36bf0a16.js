(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,93479,e=>{"use strict";var s=e.i(43476);let t=e.i(71645).forwardRef(({className:e,type:t,...a},i)=>(0,s.jsx)("input",{type:t,className:`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${e||""}`,ref:i,...a}));t.displayName="Input",e.s(["Input",()=>t])},10204,e=>{"use strict";var s=e.i(43476);let t=e.i(71645).forwardRef(({className:e,...t},a)=>(0,s.jsx)("label",{ref:a,className:`text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 ${e||""}`,...t}));t.displayName="Label",e.s(["Label",()=>t])},36961,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(15288),i=e.i(19455),r=e.i(93479),d=e.i(10204),n=e.i(86909);function l(){let[e,l]=(0,t.useState)(!0),[o,c]=(0,t.useState)(!1),[u,p]=(0,t.useState)(""),[f,h]=(0,t.useState)(""),[m,g]=(0,t.useState)({admin_phone:"",support_email:"",office_address:""});(0,t.useEffect)(()=>{x()},[]);let x=async()=>{try{let e=await fetch("/api/site-settings"),s=await e.json();e.ok&&s?.settings&&g(s.settings)}catch(e){p(e.message||"Failed to load settings")}finally{l(!1)}},b=async()=>{c(!0),p(""),h("");try{let{data:{session:e}}=await n.supabase.auth.getSession();if(!e?.access_token)return void p("You must be logged in");let s=await fetch("/api/site-settings/admin",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`},body:JSON.stringify(m)}),t=await s.json();if(!s.ok)return void p(t.error||"Failed to save settings");h("Settings saved successfully")}catch(e){p(e.message||"Failed to save settings")}finally{c(!1)}};return e?(0,s.jsx)("div",{className:"container mx-auto py-8",children:(0,s.jsx)("div",{className:"text-center",children:"Loading site settings..."})}):(0,s.jsxs)("div",{className:"container mx-auto py-8 space-y-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Site Settings"}),(0,s.jsxs)(a.Card,{children:[(0,s.jsx)(a.CardHeader,{children:(0,s.jsx)(a.CardTitle,{children:"Default Contact Details"})}),(0,s.jsxs)(a.CardContent,{className:"space-y-4",children:[u&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 text-sm text-red-700",children:u}),f&&(0,s.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 text-sm text-green-700",children:f}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Label,{htmlFor:"admin_phone",children:"Admin Phone"}),(0,s.jsx)(r.Input,{id:"admin_phone",value:m.admin_phone,onChange:e=>g({...m,admin_phone:e.target.value}),placeholder:"+250 788 123 456"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Label,{htmlFor:"support_email",children:"Support Email"}),(0,s.jsx)(r.Input,{id:"support_email",value:m.support_email,onChange:e=>g({...m,support_email:e.target.value}),placeholder:"support@ikazeproperty.rw"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Label,{htmlFor:"office_address",children:"Office Address"}),(0,s.jsx)(r.Input,{id:"office_address",value:m.office_address,onChange:e=>g({...m,office_address:e.target.value}),placeholder:"KN 123 St, Kiyovu"})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)(i.Button,{onClick:b,disabled:o,className:"bg-red-600 hover:bg-red-700",children:o?"Saving...":"Save Settings"})})]})]})]})}e.s(["default",()=>l])}]);