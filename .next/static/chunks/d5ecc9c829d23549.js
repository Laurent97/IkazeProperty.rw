(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,93479,e=>{"use strict";var n=e.i(43476);let a=e.i(71645).forwardRef(({className:e,type:a,...t},i)=>(0,n.jsx)("input",{type:a,className:`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${e||""}`,ref:i,...t}));a.displayName="Input",e.s(["Input",()=>a])},87486,e=>{"use strict";var n=e.i(43476);let a=(0,e.i(25913).cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function t({className:e,variant:t,...i}){return(0,n.jsx)("div",{className:a({variant:t,className:e}),...i})}e.s(["Badge",()=>t])},67489,e=>{"use strict";var n=e.i(43476),a=e.i(71645);let t=a.forwardRef(({className:e,value:a,onValueChange:t,onChange:i,children:r,...l},s)=>(0,n.jsx)("select",{ref:s,value:a,onChange:e=>{i?.(e),t?.(e.target.value)},className:`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${e||""}`,"aria-label":l["aria-label"]||l.title||"Select option",...l,children:r}));t.displayName="Select";let i=a.forwardRef(({className:e,children:a,...t},i)=>(0,n.jsx)("button",{ref:i,className:`flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${e||""}`,...t,children:a}));i.displayName="SelectTrigger";let r=({children:e})=>(0,n.jsx)("div",{className:"relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md",children:e}),l=a.forwardRef(({className:e,children:a,...t},i)=>(0,n.jsx)("option",{ref:i,className:`relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground ${e||""}`,...t,children:a}));l.displayName="SelectItem";let s=({placeholder:e=""})=>(0,n.jsx)("span",{className:"block truncate",children:e});e.s(["Select",()=>t,"SelectContent",()=>r,"SelectItem",()=>l,"SelectTrigger",()=>i,"SelectValue",()=>s])},10204,e=>{"use strict";var n=e.i(43476);let a=e.i(71645).forwardRef(({className:e,...a},t)=>(0,n.jsx)("label",{ref:t,className:`text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 ${e||""}`,...a}));a.displayName="Label",e.s(["Label",()=>a])},7471,e=>{"use strict";var n=e.i(47167),a=e.i(88715);let t="https://swshkufpktnacbotddpb.supabase.co",i=n.default.env.SUPABASE_SERVICE_ROLE_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN3c2hrdWZwa3RuYWNib3RkZHBiIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc3MDQ1MTgzOSwiZXhwIjoyMDg2MDI3ODM5fQ.T_LnaxClQV-ddubCnBnVk0d0lgkmT0GUs1EsD1qVG3U",r=(0,a.createClient)(t,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN3c2hrdWZwa3RuYWNib3RkZHBiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA0NTE4MzksImV4cCI6MjA4NjAyNzgzOX0.XjlJZscCno-_czhwXqwdSlKgUUpDZty6i37mtwqcnA8"),l=(0,a.createClient)(t,i);e.s(["supabase",0,r,"supabaseAdmin",0,l])},92178,e=>{"use strict";var n=e.i(43476),a=e.i(71645),t=e.i(15288),i=e.i(19455),r=e.i(93479),l=e.i(10204);let s=a.forwardRef(({className:e,checked:a,onCheckedChange:t,onChange:i,...r},l)=>(0,n.jsxs)("label",{className:"relative inline-flex h-6 w-11 items-center rounded-full cursor-pointer",children:[(0,n.jsx)("input",{type:"checkbox",className:"sr-only",checked:a,onChange:e=>{i?.(e),t?.(e.target.checked)},ref:l,...r}),(0,n.jsx)("span",{className:`${a?"bg-red-600":"bg-gray-200"} inline-block h-6 w-11 rounded-full transition-colors`}),(0,n.jsx)("span",{className:`${a?"translate-x-6":"translate-x-1"} absolute left-1 top-1 h-4 w-4 rounded-full bg-white transition-transform`})]}));s.displayName="Switch";var c=e.i(67489);let d=a.createContext({}),o=({value:e,onValueChange:a,children:t,className:i})=>(0,n.jsx)(d.Provider,{value:{value:e,onValueChange:a},children:(0,n.jsx)("div",{className:i,children:t})}),u=({children:e,className:a})=>(0,n.jsx)("div",{className:`inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground ${a||""}`,children:e}),m=({value:e,children:t,className:i})=>{let r=a.useContext(d),l=r.value===e;return(0,n.jsx)("button",{onClick:()=>{r.onValueChange?.(e)},className:`inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 ${l?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:bg-background/50"} ${i||""}`,children:t})},h=({value:e,children:t,className:i})=>a.useContext(d).value!==e?null:(0,n.jsx)("div",{className:`mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 ${i||""}`,children:t});var x=e.i(87486),_=e.i(7471);function p(){let[e,t]=(0,a.useState)([]),[i,r]=(0,a.useState)(!0),[l,s]=(0,a.useState)(!1),[c,d]=(0,a.useState)("mtn_momo");(0,a.useEffect)(()=>{p()},[]);let p=async()=>{try{let{data:e,error:n}=await _.supabase.from("payment_configurations").select("*").order("payment_method");if(n)throw n;t(e||[])}catch(e){console.error("Failed to load payment configurations:",e)}finally{r(!1)}},y=async(e,n)=>{s(!0);try{let{error:a}=await _.supabase.from("payment_configurations").upsert({payment_method:e,is_active:n.is_active,config_data:n,updated_by:(await _.supabase.auth.getUser()).data.user?.id});if(a)throw a;await p(),alert("Configuration saved successfully!")}catch(e){console.error("Failed to save configuration:",e),alert("Failed to save configuration")}finally{s(!1)}},C=n=>{let a=e.find(e=>e.payment_method===n);return a?.config_data||{}},I=n=>{let a=e.find(e=>e.payment_method===n);return a?.is_active||!1};return i?(0,n.jsx)("div",{className:"container mx-auto py-8",children:(0,n.jsx)("div",{className:"text-center",children:"Loading payment configurations..."})}):(0,n.jsxs)("div",{className:"container mx-auto py-8 space-y-6",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold",children:"Payment Configuration"}),(0,n.jsxs)(x.Badge,{variant:"outline",children:[e.filter(e=>e.is_active).length," Active Methods"]})]}),(0,n.jsxs)(o,{value:c,onValueChange:d,className:"space-y-6",children:[(0,n.jsxs)(u,{className:"grid w-full grid-cols-5",children:[(0,n.jsx)(m,{value:"mtn_momo",children:"MTN MoMo"}),(0,n.jsx)(m,{value:"airtel_money",children:"Airtel Money"}),(0,n.jsx)(m,{value:"equity_bank",children:"Equity Bank"}),(0,n.jsx)(m,{value:"crypto",children:"Crypto"}),(0,n.jsx)(m,{value:"wallet",children:"Wallet"})]}),(0,n.jsx)(h,{value:"mtn_momo",children:(0,n.jsx)(g,{config:C("mtn_momo"),isActive:I("mtn_momo"),onSave:e=>y("mtn_momo",e),loading:l})}),(0,n.jsx)(h,{value:"airtel_money",children:(0,n.jsx)(v,{config:C("airtel_money"),isActive:I("airtel_money"),onSave:e=>y("airtel_money",e),loading:l})}),(0,n.jsx)(h,{value:"equity_bank",children:(0,n.jsx)(f,{config:C("equity_bank"),isActive:I("equity_bank"),onSave:e=>y("equity_bank",e),loading:l})}),(0,n.jsx)(h,{value:"crypto",children:(0,n.jsx)(j,{config:C("crypto"),isActive:I("crypto"),onSave:e=>y("crypto",e),loading:l})}),(0,n.jsx)(h,{value:"wallet",children:(0,n.jsx)(b,{config:C("wallet"),isActive:I("wallet"),onSave:e=>y("wallet",e),loading:l})})]})]})}function g({config:e,isActive:d,onSave:o,loading:u}){let[m,h]=(0,a.useState)({...e,merchant_name:e.merchant_name||"",merchant_code:e.merchant_code||"",api_key:e.api_key||"",api_secret:e.api_secret||"",phone_number:e.phone_number||"",environment:e.environment||"sandbox",callback_url:e.callback_url||"",transaction_fee_percent:e.transaction_fee_percent??2.5,fixed_fee:e.fixed_fee??100,min_amount:e.min_amount??100,max_amount:e.max_amount??5e5,is_active:e.is_active??!1}),x=e=>{h(n=>({...n,...e}))};return(0,n.jsxs)(t.Card,{children:[(0,n.jsx)(t.CardHeader,{children:(0,n.jsxs)(t.CardTitle,{className:"flex items-center justify-between",children:["MTN Mobile Money Configuration",(0,n.jsx)(s,{checked:m.is_active,onCheckedChange:e=>x({is_active:e})})]})}),(0,n.jsxs)(t.CardContent,{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Label,{htmlFor:"mtn_merchant_name",children:"Merchant Name"}),(0,n.jsx)(r.Input,{id:"mtn_merchant_name",value:m.merchant_name,onChange:e=>x({merchant_name:e.target.value}),placeholder:"IkazeProperty Ltd"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Label,{htmlFor:"mtn_merchant_code",children:"Merchant Code"}),(0,n.jsx)(r.Input,{id:"mtn_merchant_code",value:m.merchant_code,onChange:e=>x({merchant_code:e.target.value}),placeholder:"MERCHANT001"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Label,{htmlFor:"mtn_phone",children:"Merchant Phone Number"}),(0,n.jsx)(r.Input,{id:"mtn_phone",value:m.phone_number,onChange:e=>x({phone_number:e.target.value}),placeholder:"0788123456"})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Label,{htmlFor:"mtn_api_key",children:"API Key"}),(0,n.jsx)(r.Input,{id:"mtn_api_key",type:"password",value:m.api_key,onChange:e=>x({api_key:e.target.value}),placeholder:"Enter MTN API Key"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Label,{htmlFor:"mtn_api_secret",children:"API Secret"}),(0,n.jsx)(r.Input,{id:"mtn_api_secret",type:"password",value:m.api_secret,onChange:e=>x({api_secret:e.target.value}),placeholder:"Enter MTN API Secret"})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Label,{htmlFor:"mtn_environment",children:"Environment"}),(0,n.jsxs)(c.Select,{value:m.environment,onValueChange:e=>x({environment:e}),children:[(0,n.jsx)(c.SelectTrigger,{children:(0,n.jsx)(c.SelectValue,{})}),(0,n.jsxs)(c.SelectContent,{children:[(0,n.jsx)(c.SelectItem,{value:"sandbox",children:"Sandbox (Testing)"}),(0,n.jsx)(c.SelectItem,{value:"production",children:"Production"})]})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Label,{htmlFor:"mtn_callback",children:"Callback URL"}),(0,n.jsx)(r.Input,{id:"mtn_callback",value:m.callback_url,onChange:e=>x({callback_url:e.target.value}),placeholder:"https://your-domain.com/api/webhooks/mtn-momo"})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Label,{htmlFor:"mtn_fee_percent",children:"Transaction Fee (%)"}),(0,n.jsx)(r.Input,{id:"mtn_fee_percent",type:"number",step:"0.1",value:m.transaction_fee_percent,onChange:e=>x({transaction_fee_percent:parseFloat(e.target.value)})})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Label,{htmlFor:"mtn_fixed_fee",children:"Fixed Fee (RWF)"}),(0,n.jsx)(r.Input,{id:"mtn_fixed_fee",type:"number",value:m.fixed_fee,onChange:e=>x({fixed_fee:parseInt(e.target.value)})})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Label,{htmlFor:"mtn_min_amount",children:"Minimum Amount (RWF)"}),(0,n.jsx)(r.Input,{id:"mtn_min_amount",type:"number",value:m.min_amount,onChange:e=>x({min_amount:parseInt(e.target.value)})})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Label,{htmlFor:"mtn_max_amount",children:"Maximum Amount (RWF)"}),(0,n.jsx)(r.Input,{id:"mtn_max_amount",type:"number",value:m.max_amount,onChange:e=>x({max_amount:parseInt(e.target.value)})})]})]}),(0,n.jsx)("div",{className:"flex justify-end",children:(0,n.jsx)(i.Button,{onClick:()=>o(m),disabled:u,className:"bg-red-600 hover:bg-red-700",children:u?"Saving...":"Save Configuration"})})]})]})}function v({config:e,isActive:c,onSave:d,loading:o}){let[u,m]=(0,a.useState)({...e,is_active:e.is_active??!1,client_id:e.client_id||"",client_secret:e.client_secret||"",merchant_msisdn:e.merchant_msisdn||"",country:e.country||"RW",currency:e.currency||"RWF",pin:e.pin||"",transaction_fee_percent:e.transaction_fee_percent??2.5,fixed_fee:e.fixed_fee??100,min_amount:e.min_amount??100,max_amount:e.max_amount??5e5}),h=e=>{m(n=>({...n,...e}))};return(0,n.jsxs)(t.Card,{children:[(0,n.jsx)(t.CardHeader,{children:(0,n.jsxs)(t.CardTitle,{className:"flex items-center justify-between",children:["Airtel Money Configuration",(0,n.jsx)(s,{checked:u.is_active,onCheckedChange:e=>h({is_active:e})})]})}),(0,n.jsxs)(t.CardContent,{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Label,{htmlFor:"airtel_client_id",children:"Client ID"}),(0,n.jsx)(r.Input,{id:"airtel_client_id",value:u.client_id,onChange:e=>h({client_id:e.target.value}),placeholder:"Enter Airtel client ID"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Label,{htmlFor:"airtel_client_secret",children:"Client Secret"}),(0,n.jsx)(r.Input,{id:"airtel_client_secret",type:"password",value:u.client_secret,onChange:e=>h({client_secret:e.target.value}),placeholder:"Enter Airtel client secret"})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Label,{htmlFor:"airtel_msisdn",children:"Merchant MSISDN"}),(0,n.jsx)(r.Input,{id:"airtel_msisdn",value:u.merchant_msisdn,onChange:e=>h({merchant_msisdn:e.target.value}),placeholder:"0788XXXXXX"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Label,{htmlFor:"airtel_pin",children:"PIN"}),(0,n.jsx)(r.Input,{id:"airtel_pin",type:"password",value:u.pin,onChange:e=>h({pin:e.target.value}),placeholder:"Enter PIN"})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Label,{htmlFor:"airtel_country",children:"Country"}),(0,n.jsx)(r.Input,{id:"airtel_country",value:u.country,onChange:e=>h({country:e.target.value}),placeholder:"RW"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Label,{htmlFor:"airtel_currency",children:"Currency"}),(0,n.jsx)(r.Input,{id:"airtel_currency",value:u.currency,onChange:e=>h({currency:e.target.value}),placeholder:"RWF"})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Label,{htmlFor:"airtel_fee_percent",children:"Transaction Fee (%)"}),(0,n.jsx)(r.Input,{id:"airtel_fee_percent",type:"number",step:"0.1",value:u.transaction_fee_percent,onChange:e=>h({transaction_fee_percent:parseFloat(e.target.value)})})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Label,{htmlFor:"airtel_fixed_fee",children:"Fixed Fee (RWF)"}),(0,n.jsx)(r.Input,{id:"airtel_fixed_fee",type:"number",value:u.fixed_fee,onChange:e=>h({fixed_fee:parseInt(e.target.value)})})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Label,{htmlFor:"airtel_min_amount",children:"Minimum Amount (RWF)"}),(0,n.jsx)(r.Input,{id:"airtel_min_amount",type:"number",value:u.min_amount,onChange:e=>h({min_amount:parseInt(e.target.value)})})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Label,{htmlFor:"airtel_max_amount",children:"Maximum Amount (RWF)"}),(0,n.jsx)(r.Input,{id:"airtel_max_amount",type:"number",value:u.max_amount,onChange:e=>h({max_amount:parseInt(e.target.value)})})]})]}),(0,n.jsx)("div",{className:"flex justify-end",children:(0,n.jsx)(i.Button,{onClick:()=>d(u),disabled:o,className:"bg-red-600 hover:bg-red-700",children:o?"Saving...":"Save Configuration"})})]})]})}function f({config:e,isActive:c,onSave:d,loading:o}){let[u,m]=(0,a.useState)({...e,is_active:e.is_active??!1,api_endpoint:e.api_endpoint||"",merchant_id:e.merchant_id||"",terminal_id:e.terminal_id||"",encryption_key:e.encryption_key||"",account_number:e.account_number||"",account_name:e.account_name||"",transaction_fee_percent:e.transaction_fee_percent??1.5,fixed_fee:e.fixed_fee??500,min_amount:e.min_amount??100,max_amount:e.max_amount??2e6}),h=e=>{m(n=>({...n,...e}))};return(0,n.jsxs)(t.Card,{children:[(0,n.jsx)(t.CardHeader,{children:(0,n.jsxs)(t.CardTitle,{className:"flex items-center justify-between",children:["Equity Bank Configuration",(0,n.jsx)(s,{checked:u.is_active,onCheckedChange:e=>h({is_active:e})})]})}),(0,n.jsxs)(t.CardContent,{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Label,{htmlFor:"equity_api_endpoint",children:"API Endpoint"}),(0,n.jsx)(r.Input,{id:"equity_api_endpoint",value:u.api_endpoint,onChange:e=>h({api_endpoint:e.target.value}),placeholder:"https://api.equitybank..."})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Label,{htmlFor:"equity_merchant_id",children:"Merchant ID"}),(0,n.jsx)(r.Input,{id:"equity_merchant_id",value:u.merchant_id,onChange:e=>h({merchant_id:e.target.value}),placeholder:"MERCHANT_ID"})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Label,{htmlFor:"equity_terminal_id",children:"Terminal ID"}),(0,n.jsx)(r.Input,{id:"equity_terminal_id",value:u.terminal_id,onChange:e=>h({terminal_id:e.target.value}),placeholder:"TERMINAL_ID"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Label,{htmlFor:"equity_encryption_key",children:"Encryption Key"}),(0,n.jsx)(r.Input,{id:"equity_encryption_key",type:"password",value:u.encryption_key,onChange:e=>h({encryption_key:e.target.value}),placeholder:"Enter encryption key"})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Label,{htmlFor:"equity_account_number",children:"Account Number"}),(0,n.jsx)(r.Input,{id:"equity_account_number",value:u.account_number,onChange:e=>h({account_number:e.target.value}),placeholder:"1234567890"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Label,{htmlFor:"equity_account_name",children:"Account Name"}),(0,n.jsx)(r.Input,{id:"equity_account_name",value:u.account_name,onChange:e=>h({account_name:e.target.value}),placeholder:"IkazeProperty Ltd"})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Label,{htmlFor:"equity_fee_percent",children:"Transaction Fee (%)"}),(0,n.jsx)(r.Input,{id:"equity_fee_percent",type:"number",step:"0.1",value:u.transaction_fee_percent,onChange:e=>h({transaction_fee_percent:parseFloat(e.target.value)})})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Label,{htmlFor:"equity_fixed_fee",children:"Fixed Fee (RWF)"}),(0,n.jsx)(r.Input,{id:"equity_fixed_fee",type:"number",value:u.fixed_fee,onChange:e=>h({fixed_fee:parseInt(e.target.value)})})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Label,{htmlFor:"equity_min_amount",children:"Minimum Amount (RWF)"}),(0,n.jsx)(r.Input,{id:"equity_min_amount",type:"number",value:u.min_amount,onChange:e=>h({min_amount:parseInt(e.target.value)})})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Label,{htmlFor:"equity_max_amount",children:"Maximum Amount (RWF)"}),(0,n.jsx)(r.Input,{id:"equity_max_amount",type:"number",value:u.max_amount,onChange:e=>h({max_amount:parseInt(e.target.value)})})]})]}),(0,n.jsx)("div",{className:"flex justify-end",children:(0,n.jsx)(i.Button,{onClick:()=>d(u),disabled:o,className:"bg-red-600 hover:bg-red-700",children:o?"Saving...":"Save Configuration"})})]})]})}function j({config:e,isActive:d,onSave:o,loading:u}){let[m,h]=(0,a.useState)({...e,is_active:e.is_active??!1,bitcoin:{enabled:e.bitcoin?.enabled??!1,network_fee:e.bitcoin?.network_fee??0,confirmation_required:e.bitcoin?.confirmation_required??2,wallet_address:e.bitcoin?.wallet_address||""},ethereum:{enabled:e.ethereum?.enabled??!1,network_fee:e.ethereum?.network_fee??0,confirmation_required:e.ethereum?.confirmation_required??10,wallet_address:e.ethereum?.wallet_address||""},usdt:{enabled:e.usdt?.enabled??!1,network:e.usdt?.network??"TRC20",wallet_address:e.usdt?.wallet_address||""},exchange_rate_provider:e.exchange_rate_provider??"manual",manual_exchange_rate:e.manual_exchange_rate??1200}),x=e=>{h(n=>({...n,...e}))};return(0,n.jsxs)(t.Card,{children:[(0,n.jsx)(t.CardHeader,{children:(0,n.jsxs)(t.CardTitle,{className:"flex items-center justify-between",children:["Cryptocurrency Configuration",(0,n.jsx)(s,{checked:m.is_active,onCheckedChange:e=>x({is_active:e})})]})}),(0,n.jsxs)(t.CardContent,{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)(l.Label,{children:"Bitcoin Wallet"}),(0,n.jsx)(r.Input,{value:m.bitcoin.wallet_address,onChange:e=>x({bitcoin:{...m.bitcoin,wallet_address:e.target.value}}),placeholder:"1ABC..."}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)(l.Label,{className:"text-sm",children:"Enable"}),(0,n.jsx)(s,{checked:m.bitcoin.enabled,onCheckedChange:e=>x({bitcoin:{...m.bitcoin,enabled:e}})})]}),(0,n.jsx)(r.Input,{type:"number",value:m.bitcoin.confirmation_required,onChange:e=>x({bitcoin:{...m.bitcoin,confirmation_required:parseInt(e.target.value)}}),placeholder:"Confirmations"})]}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)(l.Label,{children:"Ethereum Wallet"}),(0,n.jsx)(r.Input,{value:m.ethereum.wallet_address,onChange:e=>x({ethereum:{...m.ethereum,wallet_address:e.target.value}}),placeholder:"0xABC..."}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)(l.Label,{className:"text-sm",children:"Enable"}),(0,n.jsx)(s,{checked:m.ethereum.enabled,onCheckedChange:e=>x({ethereum:{...m.ethereum,enabled:e}})})]}),(0,n.jsx)(r.Input,{type:"number",value:m.ethereum.confirmation_required,onChange:e=>x({ethereum:{...m.ethereum,confirmation_required:parseInt(e.target.value)}}),placeholder:"Confirmations"})]}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)(l.Label,{children:"USDT Wallet"}),(0,n.jsx)(r.Input,{value:m.usdt.wallet_address,onChange:e=>x({usdt:{...m.usdt,wallet_address:e.target.value}}),placeholder:"TABC..."}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)(l.Label,{className:"text-sm",children:"Network"}),(0,n.jsxs)(c.Select,{value:m.usdt.network,onValueChange:e=>x({usdt:{...m.usdt,network:e}}),children:[(0,n.jsx)(c.SelectTrigger,{children:(0,n.jsx)(c.SelectValue,{})}),(0,n.jsxs)(c.SelectContent,{children:[(0,n.jsx)(c.SelectItem,{value:"ERC20",children:"ERC20"}),(0,n.jsx)(c.SelectItem,{value:"TRC20",children:"TRC20"})]})]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)(l.Label,{className:"text-sm",children:"Enable"}),(0,n.jsx)(s,{checked:m.usdt.enabled,onCheckedChange:e=>x({usdt:{...m.usdt,enabled:e}})})]})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Label,{children:"Exchange Rate Provider"}),(0,n.jsxs)(c.Select,{value:m.exchange_rate_provider,onValueChange:e=>x({exchange_rate_provider:e}),children:[(0,n.jsx)(c.SelectTrigger,{children:(0,n.jsx)(c.SelectValue,{})}),(0,n.jsxs)(c.SelectContent,{children:[(0,n.jsx)(c.SelectItem,{value:"coinbase",children:"Coinbase"}),(0,n.jsx)(c.SelectItem,{value:"binance",children:"Binance"}),(0,n.jsx)(c.SelectItem,{value:"manual",children:"Manual"})]})]})]}),"manual"===m.exchange_rate_provider&&(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Label,{children:"Manual Exchange Rate (RWF per USD)"}),(0,n.jsx)(r.Input,{type:"number",value:m.manual_exchange_rate||1200,onChange:e=>x({manual_exchange_rate:parseInt(e.target.value)})})]})]}),(0,n.jsx)("div",{className:"flex justify-end",children:(0,n.jsx)(i.Button,{onClick:()=>o(m),disabled:u,className:"bg-red-600 hover:bg-red-700",children:u?"Saving...":"Save Configuration"})})]})]})}function b({config:e,isActive:a,onSave:r,loading:l}){return(0,n.jsxs)(t.Card,{children:[(0,n.jsx)(t.CardHeader,{children:(0,n.jsx)(t.CardTitle,{children:"Wallet Configuration"})}),(0,n.jsxs)(t.CardContent,{children:[(0,n.jsx)("p",{className:"text-gray-600",children:"Wallet is always available for internal transactions. No external configuration is required."}),(0,n.jsx)("div",{className:"flex justify-end mt-4",children:(0,n.jsx)(i.Button,{onClick:()=>r({is_active:!0}),disabled:l,className:"bg-red-600 hover:bg-red-700",children:l?"Saving...":"Save Configuration"})})]})]})}e.s(["default",()=>p],92178)}]);