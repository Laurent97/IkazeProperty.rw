(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,86536,e=>{"use strict";let s=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>s],86536)},55436,e=>{"use strict";let s=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>s],55436)},25652,e=>{"use strict";let s=(0,e.i(75254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>s],25652)},27612,e=>{"use strict";let s=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>s],27612)},69638,e=>{"use strict";let s=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>s],69638)},73884,e=>{"use strict";let s=(0,e.i(75254).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>s],73884)},87130,e=>{"use strict";let s=(0,e.i(75254).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);e.s(["Filter",()=>s],87130)},7233,e=>{"use strict";let s=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>s],7233)},69074,e=>{"use strict";let s=(0,e.i(75254).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);e.s(["Upload",()=>s],69074)},7471,e=>{"use strict";var s=e.i(47167),t=e.i(88715);let a="https://swshkufpktnacbotddpb.supabase.co",r=s.default.env.SUPABASE_SERVICE_ROLE_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN3c2hrdWZwa3RuYWNib3RkZHBiIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc3MDQ1MTgzOSwiZXhwIjoyMDg2MDI3ODM5fQ.T_LnaxClQV-ddubCnBnVk0d0lgkmT0GUs1EsD1qVG3U",l=(0,t.createClient)(a,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN3c2hrdWZwa3RuYWNib3RkZHBiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA0NTE4MzksImV4cCI6MjA4NjAyNzgzOX0.XjlJZscCno-_czhwXqwdSlKgUUpDZty6i37mtwqcnA8"),i=(0,t.createClient)(a,r);e.s(["supabase",0,l,"supabaseAdmin",0,i])},96112,e=>{"use strict";let s=(0,e.i(75254).default)("mouse-pointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);e.s(["MousePointer",()=>s],96112)},17923,e=>{"use strict";let s=(0,e.i(75254).default)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);e.s(["BarChart3",()=>s],17923)},95242,31343,e=>{"use strict";var s=e.i(75254);let t=(0,s.default)("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]]);e.s(["Pause",()=>t],95242);let a=(0,s.default)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]);e.s(["Play",()=>a],31343)},32605,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(69638),r=e.i(73884),l=e.i(25652),i=e.i(86536),n=e.i(96112),c=e.i(17923),d=e.i(87130),m=e.i(55436),o=e.i(95242),x=e.i(31343),p=e.i(27612),h=e.i(7233),g=e.i(69074),u=e.i(37727),j=e.i(19455),y=e.i(15288),v=e.i(7471);function f(){let[e,f]=(0,t.useState)([]),[b,N]=(0,t.useState)([]),[w,C]=(0,t.useState)(null),[_,k]=(0,t.useState)("all"),[S,I]=(0,t.useState)(""),[A,M]=(0,t.useState)(!0),[F,L]=(0,t.useState)(!1),[z,E]=(0,t.useState)(!1),[D,T]=(0,t.useState)(0),[B,R]=(0,t.useState)(!1),[P,U]=(0,t.useState)({title:"",ad_type:"banner",budget_total:0,start_date:"",end_date:"",target_audience:"",landing_page:"",creative_url:"",user_name:"Admin User",user_email:"admin@ikazeproperty.rw"}),Z=async()=>{try{let{data:e,error:s}=await v.supabaseAdmin.from("ad_campaigns").select("*").order("created_at",{ascending:!1});s?(console.error("Error fetching campaigns:",s),f([])):(f(e||[]),N(e||[]))}catch(e){console.error("Error fetching campaigns:",e),f([])}finally{M(!1)}};(0,t.useEffect)(()=>{Z()},[]),(0,t.useEffect)(()=>{let s=e;"all"!==_&&(s=s.filter(e=>e.status===_)),S&&(s=s.filter(e=>e.title.toLowerCase().includes(S.toLowerCase()))),N(s)},[e,_,S]);let J=e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"paused":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-blue-100 text-blue-800";case"pending":return"bg-orange-100 text-orange-800";case"draft":default:return"bg-gray-100 text-gray-800";case"rejected":return"bg-red-100 text-red-800"}},O=async e=>{try{let{error:s}=await v.supabaseAdmin.from("ad_campaigns").update({status:"active"}).eq("id",e);s?(console.error("Error approving campaign:",s),alert("Failed to approve campaign")):Z()}catch(e){console.error("Error approving campaign:",e),alert("Failed to approve campaign")}},V=async(e,s)=>{try{let{error:t}=await v.supabaseAdmin.from("ad_campaigns").update({status:"rejected",rejection_reason:s}).eq("id",e);t?(console.error("Error rejecting campaign:",t),alert("Failed to reject campaign")):Z()}catch(e){console.error("Error rejecting campaign:",e),alert("Failed to reject campaign")}},X=async e=>{try{let{error:s}=await v.supabaseAdmin.from("ad_campaigns").update({status:"paused"}).eq("id",e);s?(console.error("Error pausing campaign:",s),alert("Failed to pause campaign")):Z()}catch(e){console.error("Error pausing campaign:",e),alert("Failed to pause campaign")}},q=async()=>{if(!P.title||!P.budget_total||!P.start_date||!P.end_date)return void alert("Please fill in all required fields");try{let{data:e,error:s}=await v.supabaseAdmin.from("ad_campaigns").insert({title:P.title,ad_type:P.ad_type,status:"draft",budget_total:P.budget_total,start_date:P.start_date,end_date:P.end_date,description:`${P.ad_type} campaign created by admin`,primary_image_url:P.creative_url,cta_text:"Learn More",cta_link:P.landing_page||"#",target_audience:P.target_audience?{description:P.target_audience}:null}).select().single();if(s){console.error("Error creating campaign:",s),alert("Failed to create campaign");return}Z(),L(!1),U({title:"",ad_type:"banner",budget_total:0,start_date:"",end_date:"",target_audience:"",landing_page:"",creative_url:"",user_name:"Admin User",user_email:"admin@ikazeproperty.rw"}),alert("Campaign created successfully!")}catch(e){console.error("Error creating campaign:",e),alert("Failed to create campaign")}},W=async e=>{let s=e.target.files?.[0];if(!s)return;R(!0),T(0);let t=setInterval(()=>{T(e=>e>=100?(clearInterval(t),R(!1),U(e=>({...e,creative_url:`https://example.com/ads/${s.name}`})),100):e+10)},200)},Y=async e=>{if(confirm("Are you sure you want to delete this campaign?"))try{let{error:s}=await v.supabaseAdmin.from("ad_campaigns").delete().eq("id",e);s?(console.error("Error deleting campaign:",s),alert("Failed to delete campaign")):Z()}catch(e){console.error("Error deleting campaign:",e),alert("Failed to delete campaign")}},H=async e=>{try{let{error:s}=await v.supabaseAdmin.from("ad_campaigns").update({status:"active"}).eq("id",e);s?(console.error("Error resuming campaign:",s),alert("Failed to resume campaign")):Z()}catch(e){console.error("Error resuming campaign:",e),alert("Failed to resume campaign")}};return A?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Loading ad campaigns..."})]})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 no-overflow-x",children:[(0,s.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-6",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 h-14 sm:h-16",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Admin Ad Management"}),(0,s.jsx)("p",{className:"text-xs sm:text-sm text-gray-600",children:"Manage all advertising campaigns"})]}),(0,s.jsxs)(j.Button,{onClick:()=>L(!0),className:"bg-red-600 hover:bg-red-700 touch-target",children:[(0,s.jsx)(h.Plus,{className:"h-4 w-4 mr-2"}),"Create New Ad"]})]})})}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-6 py-4 sm:py-8",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6 mb-6 sm:mb-8",children:[(0,s.jsx)(y.Card,{children:(0,s.jsx)(y.CardContent,{className:"p-3 sm:p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-2 sm:mr-3",children:(0,s.jsx)(i.Eye,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Impressions"}),(0,s.jsx)("p",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:e.reduce((e,s)=>e+s.impressions,0).toLocaleString()})]})]})})}),(0,s.jsx)(y.Card,{children:(0,s.jsx)(y.CardContent,{className:"p-3 sm:p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-green-100 rounded-lg flex items-center justify-center mr-2 sm:mr-3",children:(0,s.jsx)(n.MousePointer,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Clicks"}),(0,s.jsx)("p",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:e.reduce((e,s)=>e+s.clicks,0).toLocaleString()})]})]})})}),(0,s.jsx)(y.Card,{children:(0,s.jsx)(y.CardContent,{className:"p-3 sm:p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-purple-100 rounded-lg flex items-center justify-center mr-2 sm:mr-3",children:(0,s.jsx)(l.TrendingUp,{className:"h-4 w-4 sm:h-5 sm:w-5 text-purple-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Revenue"}),(0,s.jsxs)("p",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:["RWF ",e.reduce((e,s)=>e+s.spent_amount,0).toLocaleString()]})]})]})})}),(0,s.jsx)(y.Card,{children:(0,s.jsx)(y.CardContent,{className:"p-3 sm:p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-red-100 rounded-lg flex items-center justify-center mr-2 sm:mr-3",children:(0,s.jsx)(c.BarChart3,{className:"h-4 w-4 sm:h-5 sm:w-5 text-red-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Active Campaigns"}),(0,s.jsx)("p",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:e.filter(e=>"active"===e.status).length})]})]})})})]}),(0,s.jsx)(y.Card,{className:"mb-8",children:(0,s.jsx)(y.CardContent,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(d.Filter,{className:"h-4 w-4 text-gray-500 mr-2"}),(0,s.jsxs)("select",{value:_,onChange:e=>k(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent","aria-label":"Filter by status",title:"Filter campaigns by status",children:[(0,s.jsx)("option",{value:"all",children:"All Status"}),(0,s.jsx)("option",{value:"pending",children:"Pending"}),(0,s.jsx)("option",{value:"active",children:"Active"}),(0,s.jsx)("option",{value:"paused",children:"Paused"}),(0,s.jsx)("option",{value:"completed",children:"Completed"}),(0,s.jsx)("option",{value:"rejected",children:"Rejected"})]})]}),(0,s.jsxs)("div",{className:"flex-1 relative",children:[(0,s.jsx)(m.Search,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,s.jsx)("input",{type:"text",placeholder:"Search campaigns...",value:S,onChange:e=>I(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})]})})}),(0,s.jsxs)(y.Card,{children:[(0,s.jsx)(y.CardHeader,{children:(0,s.jsxs)(y.CardTitle,{children:["All Campaigns (",b.length,")"]})}),(0,s.jsx)(y.CardContent,{children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b",children:[(0,s.jsx)("th",{className:"text-left py-3 px-2 sm:px-4 font-semibold text-gray-900 text-xs sm:text-sm",children:"Campaign"}),(0,s.jsx)("th",{className:"text-left py-3 px-2 sm:px-4 font-semibold text-gray-900 text-xs sm:text-sm",children:"Advertiser"}),(0,s.jsx)("th",{className:"text-left py-3 px-2 sm:px-4 font-semibold text-gray-900 text-xs sm:text-sm",children:"Type"}),(0,s.jsx)("th",{className:"text-left py-3 px-2 sm:px-4 font-semibold text-gray-900 text-xs sm:text-sm",children:"Status"}),(0,s.jsx)("th",{className:"text-left py-3 px-2 sm:px-4 font-semibold text-gray-900 text-xs sm:text-sm",children:"Performance"}),(0,s.jsx)("th",{className:"text-left py-3 px-2 sm:px-4 font-semibold text-gray-900 text-xs sm:text-sm",children:"Budget"}),(0,s.jsx)("th",{className:"text-left py-3 px-2 sm:px-4 font-semibold text-gray-900 text-xs sm:text-sm",children:"Duration"}),(0,s.jsx)("th",{className:"text-left py-3 px-2 sm:px-4 font-semibold text-gray-900 text-xs sm:text-sm",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:b.map(e=>{let t,l;return(0,s.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"py-3 sm:py-4 px-2 sm:px-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-semibold text-gray-900 text-sm sm:text-base line-clamp-1",children:e.title}),(0,s.jsxs)("div",{className:"text-xs sm:text-sm text-gray-600",children:["Created ",new Date(e.created_at).toLocaleDateString()]})]})}),(0,s.jsx)("td",{className:"py-4 px-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-gray-900",children:"Campaign Owner"}),(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:["ID: ",e.user_id]})]})}),(0,s.jsx)("td",{className:"py-3 sm:py-4 px-2 sm:px-4",children:(0,s.jsx)("span",{className:"text-xs sm:text-sm font-medium text-gray-900 capitalize",children:e.ad_type.replace("_"," ")})}),(0,s.jsxs)("td",{className:"py-3 sm:py-4 px-2 sm:px-4",children:[(0,s.jsx)("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${J(e.status)}`,children:e.status.toUpperCase()}),e.rejection_reason&&(0,s.jsx)("div",{className:"text-xs sm:text-sm text-red-600 mt-1 max-w-[150px] sm:max-w-none",children:e.rejection_reason})]}),(0,s.jsx)("td",{className:"py-3 sm:py-4 px-2 sm:px-4",children:(0,s.jsxs)("div",{className:"text-xs sm:text-sm",children:[(0,s.jsxs)("div",{children:[e.impressions.toLocaleString()," impressions"]}),(0,s.jsxs)("div",{children:[e.clicks," clicks"]}),(0,s.jsxs)("div",{className:"font-semibold text-red-600",children:[(t=e.clicks,(l=e.impressions)>0?(t/l*100).toFixed(2):"0.00"),"% CTR"]})]})}),(0,s.jsx)("td",{className:"py-3 sm:py-4 px-2 sm:px-4",children:(0,s.jsxs)("div",{className:"text-xs sm:text-sm",children:[(0,s.jsxs)("div",{children:["RWF ",e.spent_amount.toLocaleString()," spent"]}),(0,s.jsxs)("div",{className:"text-gray-600",children:["of RWF ",e.budget_total.toLocaleString()]})]})}),(0,s.jsx)("td",{className:"py-3 sm:py-4 px-2 sm:px-4",children:(0,s.jsxs)("div",{className:"text-xs sm:text-sm",children:[(0,s.jsx)("div",{children:new Date(e.start_date).toLocaleDateString()}),(0,s.jsxs)("div",{className:"text-gray-600",children:["to ",new Date(e.end_date).toLocaleDateString()]})]})}),(0,s.jsx)("td",{className:"py-3 sm:py-4 px-2 sm:px-4",children:(0,s.jsxs)("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[(0,s.jsx)(j.Button,{variant:"ghost",size:"sm",onClick:()=>{C(e),E(!0)},className:"touch-target p-1","aria-label":"View details",children:(0,s.jsx)(c.BarChart3,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),"pending"===e.status&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.Button,{variant:"ghost",size:"sm",onClick:()=>O(e.id),className:"text-green-600 hover:text-green-700 touch-target p-1","aria-label":"Approve campaign",children:(0,s.jsx)(a.CheckCircle,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),(0,s.jsx)(j.Button,{variant:"ghost",size:"sm",onClick:()=>V(e.id,"Inappropriate content"),className:"text-red-600 hover:text-red-700 touch-target p-1","aria-label":"Reject campaign",children:(0,s.jsx)(r.XCircle,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]}),"active"===e.status&&(0,s.jsx)(j.Button,{variant:"ghost",size:"sm",onClick:()=>X(e.id),className:"touch-target p-1","aria-label":"Pause campaign",children:(0,s.jsx)(o.Pause,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),"paused"===e.status&&(0,s.jsx)(j.Button,{variant:"ghost",size:"sm",onClick:()=>H(e.id),className:"touch-target p-1","aria-label":"Resume campaign",children:(0,s.jsx)(x.Play,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),(0,s.jsx)(j.Button,{variant:"ghost",size:"sm",onClick:()=>Y(e.id),className:"text-red-600 hover:text-red-700 touch-target p-1","aria-label":"Delete campaign",children:(0,s.jsx)(p.Trash2,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})})]},e.id)})})]})})})]})]}),F&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-3 sm:p-4 z-50",children:(0,s.jsx)(y.Card,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:(0,s.jsxs)(y.CardContent,{className:"p-4 sm:p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"text-lg sm:text-xl font-semibold",children:"Create New Ad Campaign"}),(0,s.jsx)("button",{onClick:()=>L(!1),className:"text-gray-400 hover:text-gray-600 touch-target p-1","aria-label":"Close modal",children:(0,s.jsx)(u.X,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Campaign Title *"}),(0,s.jsx)("input",{type:"text",value:P.title,onChange:e=>U(s=>({...s,title:e.target.value})),placeholder:"Enter campaign title",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ad Type *"}),(0,s.jsxs)("select",{value:P.ad_type,onChange:e=>U(s=>({...s,ad_type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500","aria-label":"Select ad type",children:[(0,s.jsx)("option",{value:"banner",children:"Banner Ad"}),(0,s.jsx)("option",{value:"sponsored",children:"Sponsored Content"}),(0,s.jsx)("option",{value:"premium_listing",children:"Premium Listing"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget (RWF) *"}),(0,s.jsx)("input",{type:"number",value:P.budget_total,onChange:e=>U(s=>({...s,budget_total:parseInt(e.target.value)||0})),placeholder:"Enter budget amount",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Audience"}),(0,s.jsx)("input",{type:"text",value:P.target_audience,onChange:e=>U(s=>({...s,target_audience:e.target.value})),placeholder:"e.g., Property buyers, 25-45 age",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date *"}),(0,s.jsx)("input",{type:"date",value:P.start_date,onChange:e=>U(s=>({...s,start_date:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500","aria-label":"Campaign start date",title:"Select campaign start date"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date *"}),(0,s.jsx)("input",{type:"date",value:P.end_date,onChange:e=>U(s=>({...s,end_date:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500","aria-label":"Campaign end date",title:"Select campaign end date"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Landing Page URL"}),(0,s.jsx)("input",{type:"url",value:P.landing_page,onChange:e=>U(s=>({...s,landing_page:e.target.value})),placeholder:"https://example.com/landing-page",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ad Creative"}),(0,s.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[(0,s.jsx)("input",{type:"file",accept:"image/*,video/*",onChange:W,className:"hidden",id:"ad-creative-upload"}),(0,s.jsxs)("label",{htmlFor:"ad-creative-upload",className:"cursor-pointer flex flex-col items-center",children:[(0,s.jsx)(g.Upload,{className:"h-8 w-8 text-gray-400 mb-2"}),(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Click to upload ad creative"}),(0,s.jsx)("span",{className:"text-xs text-gray-500 mt-1",children:"Images or videos (max 10MB)"})]}),B&&(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,s.jsx)("div",{className:"bg-red-600 h-2 rounded-full transition-all duration-300",style:{width:`${D}%`},role:"progressbar","aria-valuenow":D,"aria-valuemin":0,"aria-valuemax":100,title:`Upload progress: ${D}%`})}),(0,s.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:["Uploading... ",D,"%"]})]}),P.creative_url&&(0,s.jsx)("div",{className:"mt-4 text-sm text-green-600",children:"âœ“ File uploaded successfully"})]})]}),(0,s.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,s.jsx)(j.Button,{variant:"outline",onClick:()=>L(!1),className:"flex-1",children:"Cancel"}),(0,s.jsx)(j.Button,{onClick:q,className:"flex-1 bg-red-600 hover:bg-red-700",children:"Create Campaign"})]})]})]})})}),z&&w&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-3 sm:p-4 z-50",children:(0,s.jsx)(y.Card,{className:"w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:(0,s.jsxs)(y.CardContent,{className:"p-4 sm:p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h3",{className:"text-lg sm:text-xl font-semibold",children:"Campaign Details"}),(0,s.jsx)("button",{onClick:()=>E(!1),className:"text-gray-400 hover:text-gray-600 touch-target p-1","aria-label":"Close modal",children:(0,s.jsx)(u.X,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Campaign Information"}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Title:"})," ",w.title]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Type:"})," ",w.ad_type]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Status:"})," ",(0,s.jsx)("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${J(w.status)}`,children:w.status.toUpperCase()})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Created:"})," ",new Date(w.created_at).toLocaleDateString()]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Owner ID:"})," ",w.user_id]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Budget & Performance"}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Total Budget:"})," RWF ",w.budget_total.toLocaleString()]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Spent:"})," RWF ",w.spent_amount.toLocaleString()]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Remaining:"})," RWF ",(w.budget_total-w.spent_amount).toLocaleString()]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Start Date:"})," ",new Date(w.start_date).toLocaleDateString()]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"End Date:"})," ",new Date(w.end_date).toLocaleDateString()]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Performance Metrics"}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Impressions:"})," ",w.impressions.toLocaleString()]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Clicks:"})," ",w.clicks.toLocaleString()]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Conversions:"})," ",w.conversions.toLocaleString()]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"CTR:"})," ",w.ctr,"%"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"CPC:"})," RWF ",w.clicks>0?(w.spent_amount/w.clicks).toFixed(2):"0.00"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Campaign Details"}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Owner ID:"})," ",w.user_id]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"CTA Text:"})," ",w.cta_text||"N/A"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"CTA Link:"})," ",w.cta_link||"N/A"]})]})]})]})]})]})})})]})}e.s(["default",()=>f])}]);