(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55436,e=>{"use strict";let s=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>s],55436)},2356,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(94983),r=e.i(14764),i=e.i(55436),l=e.i(43432),n=e.i(63488),d=e.i(19455),c=e.i(15288);function m({}){let[e,m]=(0,a.useState)([{id:"1",userId:"user1",userName:"John Mukiza",userEmail:"john@example.com",userPhone:"+250 788 123 456",lastMessage:"I need help with my property listing",lastMessageTime:new Date("2024-02-07T16:35:00"),status:"active",priority:"high",assignedTo:"Admin 1",messages:[{id:"m1",text:"Hello, I need help with my property listing",sender:"user",timestamp:new Date("2024-02-07T16:30:00"),senderName:"John Mukiza"},{id:"m2",text:"Hello John! I'd be happy to help you with your property listing. What specific issue are you facing?",sender:"admin",timestamp:new Date("2024-02-07T16:32:00"),senderName:"Admin 1"},{id:"m3",text:"I'm trying to upload photos but they keep failing",sender:"user",timestamp:new Date("2024-02-07T16:35:00"),senderName:"John Mukiza"}]},{id:"2",userId:"user2",userName:"Sarah Uwimana",userEmail:"sarah@example.com",userPhone:"+250 788 234 567",lastMessage:"Thank you for the help!",lastMessageTime:new Date("2024-02-07T16:10:00"),status:"resolved",priority:"low",assignedTo:"Admin 2",messages:[{id:"m4",text:"How do I verify my account?",sender:"user",timestamp:new Date("2024-02-07T15:55:00"),senderName:"Sarah Uwimana"},{id:"m5",text:"To verify your account, you need to upload a valid ID and proof of address. The process takes 1-2 business days.",sender:"admin",timestamp:new Date("2024-02-07T16:00:00"),senderName:"Admin 2"},{id:"m6",text:"Thank you for the help!",sender:"user",timestamp:new Date("2024-02-07T16:10:00"),senderName:"Sarah Uwimana"}]},{id:"3",userId:"user3",userName:"Eric Niyonzima",userEmail:"eric@example.com",userPhone:"+250 788 345 678",lastMessage:"Is there a commission fee?",lastMessageTime:new Date("2024-02-07T15:40:00"),status:"waiting",priority:"medium",messages:[{id:"m7",text:"Is there a commission fee?",sender:"user",timestamp:new Date("2024-02-07T15:40:00"),senderName:"Eric Niyonzima"}]}]),[o,x]=(0,a.useState)(e[0]),[h,u]=(0,a.useState)(""),[g,p]=(0,a.useState)(""),[j,y]=(0,a.useState)("all"),[N,v]=(0,a.useState)("all"),f=e=>{let s=new Date().getTime()-e.getTime(),a=Math.floor(s/6e4),t=Math.floor(s/36e5),r=Math.floor(s/864e5);return a<1?"Just now":a<60?`${a}m ago`:t<24?`${t}h ago`:`${r}d ago`},w=e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"waiting":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},b=e=>{switch(e){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-orange-100 text-orange-800";case"low":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},C=()=>{if(!h.trim()||!o)return;let e={id:`admin_msg_${Date.now()}_${Math.random()}`,text:h,sender:"admin",timestamp:new Date,senderName:"Current Admin"};m(s=>s.map(s=>s.id===o.id?{...s,messages:[...s.messages,e],lastMessage:h,lastMessageTime:new Date}:s)),x(s=>s?{...s,messages:[...s.messages,e],lastMessage:h,lastMessageTime:new Date}:null),u("")},T=e.filter(e=>{let s=e.userName.toLowerCase().includes(g.toLowerCase())||e.userEmail.toLowerCase().includes(g.toLowerCase())||e.lastMessage.toLowerCase().includes(g.toLowerCase()),a="all"===j||e.status===j,t="all"===N||e.priority===N;return s&&a&&t}),M={total:e.length,active:e.filter(e=>"active"===e.status).length,waiting:e.filter(e=>"waiting"===e.status).length,resolved:e.filter(e=>"resolved"===e.status).length};return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(t.MessageCircle,{className:"h-8 w-8 text-red-600 mr-3"}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Chat Center"})]}),(0,s.jsx)("div",{className:"flex items-center space-x-4",children:(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:["Total: ",M.total," | Active: ",M.active," | Waiting: ",M.waiting]})})]})})}),(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsxs)(c.Card,{children:[(0,s.jsxs)(c.CardHeader,{children:[(0,s.jsx)(c.CardTitle,{className:"text-lg",children:"Conversations"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(i.Search,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,s.jsx)("input",{type:"text",placeholder:"Search conversations...",value:g,onChange:e=>p(e.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-sm"})]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsxs)("select",{value:j,onChange:e=>y(e.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded text-sm",children:[(0,s.jsx)("option",{value:"all",children:"All Status"}),(0,s.jsx)("option",{value:"active",children:"Active"}),(0,s.jsx)("option",{value:"waiting",children:"Waiting"}),(0,s.jsx)("option",{value:"resolved",children:"Resolved"})]}),(0,s.jsxs)("select",{value:N,onChange:e=>v(e.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded text-sm",children:[(0,s.jsx)("option",{value:"all",children:"All Priority"}),(0,s.jsx)("option",{value:"high",children:"High"}),(0,s.jsx)("option",{value:"medium",children:"Medium"}),(0,s.jsx)("option",{value:"low",children:"Low"})]})]})]})]}),(0,s.jsx)(c.CardContent,{className:"p-0",children:(0,s.jsx)("div",{className:"max-h-96 overflow-y-auto",children:T.map(e=>(0,s.jsxs)("div",{onClick:()=>x(e),className:`p-4 border-b cursor-pointer hover:bg-gray-50 ${o?.id===e.id?"bg-red-50":""}`,children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,s.jsx)("h4",{className:"font-semibold text-gray-900",children:e.userName}),(0,s.jsx)("span",{className:`text-xs px-2 py-1 rounded-full ${b(e.priority)}`,children:e.priority})]}),(0,s.jsx)("p",{className:"text-sm text-gray-600 truncate mb-2",children:e.lastMessage}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:`text-xs px-2 py-1 rounded ${w(e.status)}`,children:e.status}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:f(e.lastMessageTime)})]})]},e.id))})})]})}),(0,s.jsx)("div",{className:"lg:col-span-3",children:o?(0,s.jsxs)(c.Card,{className:"h-full",children:[(0,s.jsx)(c.CardHeader,{className:"border-b",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(c.CardTitle,{className:"text-lg",children:o.userName}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mt-1",children:[(0,s.jsxs)("span",{className:"flex items-center",children:[(0,s.jsx)(n.Mail,{className:"h-4 w-4 mr-1"}),o.userEmail]}),(0,s.jsxs)("span",{className:"flex items-center",children:[(0,s.jsx)(l.Phone,{className:"h-4 w-4 mr-1"}),o.userPhone]}),(0,s.jsx)("span",{className:`px-2 py-1 rounded-full text-xs ${w(o.status)}`,children:o.status}),(0,s.jsxs)("span",{className:`px-2 py-1 rounded-full text-xs ${b(o.priority)}`,children:[o.priority," priority"]})]})]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsxs)(d.Button,{variant:"outline",size:"sm",children:[(0,s.jsx)(l.Phone,{className:"h-4 w-4 mr-2"}),"Call"]}),(0,s.jsxs)(d.Button,{variant:"outline",size:"sm",children:[(0,s.jsx)(n.Mail,{className:"h-4 w-4 mr-2"}),"Email"]})]})]})}),(0,s.jsx)(c.CardContent,{className:"p-4 h-96 overflow-y-auto",children:(0,s.jsx)("div",{className:"space-y-4",children:o.messages.map(e=>(0,s.jsx)("div",{className:`flex ${"admin"===e.sender?"justify-end":"justify-start"}`,children:(0,s.jsxs)("div",{className:`max-w-xs lg:max-w-md ${"admin"===e.sender?"text-right":"text-left"}`,children:[(0,s.jsx)("div",{className:`rounded-lg p-3 ${"admin"===e.sender?"bg-red-600 text-white":"bg-gray-100 text-gray-900"}`,children:(0,s.jsx)("p",{className:"text-sm",children:e.text})}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[e.senderName," â€¢ ",f(e.timestamp)]})]})},e.id))})}),(0,s.jsx)("div",{className:"border-t p-4",children:(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("input",{type:"text",value:h,onChange:e=>u(e.target.value),onKeyPress:e=>"Enter"===e.key&&C(),placeholder:"Type your response...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"}),(0,s.jsx)(d.Button,{onClick:C,className:"bg-red-600 hover:bg-red-700",children:(0,s.jsx)(r.Send,{className:"h-4 w-4"})})]})})]}):(0,s.jsx)(c.Card,{className:"h-full flex items-center justify-center",children:(0,s.jsxs)(c.CardContent,{className:"text-center",children:[(0,s.jsx)(t.MessageCircle,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Select a Conversation"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Choose a conversation from the list to start chatting"})]})})})]})})]})}e.s(["default",()=>m])}]);