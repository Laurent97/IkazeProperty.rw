(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,87396,e=>{"use strict";var r=e.i(43476),t=e.i(71645),s=e.i(18566),i=e.i(86909);function a(){let e=(0,s.useRouter)(),[a,u]=(0,t.useState)(!0);return((0,t.useEffect)(()=>{(async()=>{try{let r=await (0,i.getCurrentUser)();if(!r)return void e.push("/auth/login");try{let t=await (0,i.getUserProfile)(r.id);t?.role==="admin"?e.push("/dashboard/admin"):e.push("/dashboard/user")}catch(r){e.push("/dashboard/user")}}catch(r){e.push("/auth/login")}finally{u(!1)}})()},[e]),a)?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-red-600"})}):null}e.s(["default",()=>a])}]);