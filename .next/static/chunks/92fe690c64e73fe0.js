(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,93479,e=>{"use strict";var t=e.i(43476);let s=e.i(71645).forwardRef(({className:e,type:s,...a},i)=>(0,t.jsx)("input",{type:s,className:`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${e||""}`,ref:i,...a}));s.displayName="Input",e.s(["Input",()=>s])},10204,e=>{"use strict";var t=e.i(43476);let s=e.i(71645).forwardRef(({className:e,...s},a)=>(0,t.jsx)("label",{ref:a,className:`text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 ${e||""}`,...s}));s.displayName="Label",e.s(["Label",()=>s])},36961,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(15288),i=e.i(19455),r=e.i(93479),n=e.i(10204),l=e.i(94983),d=e.i(86909);function o(){let[e,o]=(0,s.useState)(!0),[c,p]=(0,s.useState)(!1),[h,u]=(0,s.useState)(""),[m,g]=(0,s.useState)(""),[x,f]=(0,s.useState)({admin_phone:"",whatsapp_phone:"",support_email:"",office_address:""});(0,s.useEffect)(()=>{b()},[]);let b=async()=>{try{let e=await fetch("/api/site-settings"),t=await e.json();e.ok&&t?.settings&&f(t.settings)}catch(e){u(e.message||"Failed to load settings")}finally{o(!1)}},v=async()=>{p(!0),u(""),g("");try{let{data:{session:e}}=await d.supabase.auth.getSession();if(!e?.access_token)return void u("You must be logged in");let t=await fetch("/api/site-settings/admin",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`},body:JSON.stringify(x)}),s=await t.json();if(!t.ok)return void u(s.error||"Failed to save settings");g("Settings saved successfully")}catch(e){u(e.message||"Failed to save settings")}finally{p(!1)}};return e?(0,t.jsx)("div",{className:"container mx-auto py-8",children:(0,t.jsx)("div",{className:"text-center",children:"Loading site settings..."})}):(0,t.jsxs)("div",{className:"container mx-auto py-8 space-y-6",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Site Settings"}),(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{children:(0,t.jsx)(a.CardTitle,{children:"Default Contact Details"})}),(0,t.jsxs)(a.CardContent,{className:"space-y-4",children:[h&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 text-sm text-red-700",children:h}),m&&(0,t.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 text-sm text-green-700",children:m}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{htmlFor:"admin_phone",children:"Admin Phone"}),(0,t.jsx)(r.Input,{id:"admin_phone",value:x.admin_phone,onChange:e=>f({...x,admin_phone:e.target.value}),placeholder:"+250 788 123 456"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{htmlFor:"whatsapp_phone",children:"WhatsApp Phone"}),(0,t.jsx)(r.Input,{id:"whatsapp_phone",value:x.whatsapp_phone,onChange:e=>f({...x,whatsapp_phone:e.target.value}),placeholder:"+250737060025"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{htmlFor:"support_email",children:"Support Email"}),(0,t.jsx)(r.Input,{id:"support_email",value:x.support_email,onChange:e=>f({...x,support_email:e.target.value}),placeholder:"support@ikazeproperty.rw"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{htmlFor:"office_address",children:"Office Address"}),(0,t.jsx)(r.Input,{id:"office_address",value:x.office_address,onChange:e=>f({...x,office_address:e.target.value}),placeholder:"KN 123 St, Kiyovu"})]}),(0,t.jsxs)("div",{className:"border-t pt-4 mt-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4 text-green-600",children:"WhatsApp Customer Service"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Update your WhatsApp customer service number and test the connection"}),(0,t.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg mb-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Current WhatsApp Number:"}),(0,t.jsx)("p",{className:"text-lg font-bold text-green-600",children:x.whatsapp_phone||"Not set"})]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)(i.Button,{onClick:v,disabled:c,className:"bg-red-600 hover:bg-red-700",children:c?"Saving...":"Save Settings"}),(0,t.jsxs)(i.Button,{onClick:()=>window.open(`https://wa.me/${x.whatsapp_phone?.replace(/[^\d]/g,"")}`,"_blank"),variant:"outline",className:"text-green-600 border-green-600 hover:bg-green-50",disabled:!x.whatsapp_phone,children:[(0,t.jsx)(l.MessageCircle,{className:"h-4 w-4 mr-2"}),"Test WhatsApp Connection"]})]})]})]})]})}e.s(["default",()=>o])}]);