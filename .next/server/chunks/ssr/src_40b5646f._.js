module.exports=[66718,a=>{"use strict";var b=a.i(87924);let c=a.i(72131).forwardRef(({className:a,type:c,...d},e)=>(0,b.jsx)("input",{type:c,className:`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${a||""}`,ref:e,...d}));c.displayName="Input",a.s(["Input",()=>c])},70430,a=>{"use strict";var b=a.i(87924);let c=a.i(72131).forwardRef(({className:a,...c},d)=>(0,b.jsx)("label",{ref:d,className:`text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 ${a||""}`,...c}));c.displayName="Label",a.s(["Label",()=>c])},88042,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(91119),e=a.i(99570),f=a.i(66718),g=a.i(70430),h=a.i(63672);function i(){let[a,i]=(0,c.useState)(!0),[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)({admin_phone:"",support_email:"",office_address:""});(0,c.useEffect)(()=>{r()},[]);let r=async()=>{try{let a=await fetch("/api/site-settings"),b=await a.json();a.ok&&b?.settings&&q(b.settings)}catch(a){m(a.message||"Failed to load settings")}finally{i(!1)}},s=async()=>{k(!0),m(""),o("");try{let{data:{session:a}}=await h.supabase.auth.getSession();if(!a?.access_token)return void m("You must be logged in");let b=await fetch("/api/site-settings/admin",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.access_token}`},body:JSON.stringify(p)}),c=await b.json();if(!b.ok)return void m(c.error||"Failed to save settings");o("Settings saved successfully")}catch(a){m(a.message||"Failed to save settings")}finally{k(!1)}};return a?(0,b.jsx)("div",{className:"container mx-auto py-8",children:(0,b.jsx)("div",{className:"text-center",children:"Loading site settings..."})}):(0,b.jsxs)("div",{className:"container mx-auto py-8 space-y-6",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Site Settings"}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsx)(d.CardTitle,{children:"Default Contact Details"})}),(0,b.jsxs)(d.CardContent,{className:"space-y-4",children:[l&&(0,b.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 text-sm text-red-700",children:l}),n&&(0,b.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 text-sm text-green-700",children:n}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"admin_phone",children:"Admin Phone"}),(0,b.jsx)(f.Input,{id:"admin_phone",value:p.admin_phone,onChange:a=>q({...p,admin_phone:a.target.value}),placeholder:"+250 788 123 456"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"support_email",children:"Support Email"}),(0,b.jsx)(f.Input,{id:"support_email",value:p.support_email,onChange:a=>q({...p,support_email:a.target.value}),placeholder:"support@ikazeproperty.rw"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"office_address",children:"Office Address"}),(0,b.jsx)(f.Input,{id:"office_address",value:p.office_address,onChange:a=>q({...p,office_address:a.target.value}),placeholder:"KN 123 St, Kiyovu"})]}),(0,b.jsx)("div",{className:"flex justify-end",children:(0,b.jsx)(e.Button,{onClick:s,disabled:j,className:"bg-red-600 hover:bg-red-700",children:j?"Saving...":"Save Settings"})})]})]})]})}a.s(["default",()=>i])}];

//# sourceMappingURL=src_40b5646f._.js.map