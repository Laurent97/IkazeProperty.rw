module.exports=[77156,a=>{"use strict";let b=(0,a.i(70106).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],77156)},87532,a=>{"use strict";let b=(0,a.i(70106).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>b],87532)},66718,a=>{"use strict";var b=a.i(87924);let c=a.i(72131).forwardRef(({className:a,type:c,...d},e)=>(0,b.jsx)("input",{type:c,className:`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${a||""}`,ref:e,...d}));c.displayName="Input",a.s(["Input",()=>c])},86304,a=>{"use strict";var b=a.i(87924);let c=(0,a.i(187).cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d({className:a,variant:d,...e}){return(0,b.jsx)("div",{className:c({variant:d,className:a}),...e})}a.s(["Badge",()=>d])},41675,a=>{"use strict";let b=(0,a.i(70106).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],41675)},68982,a=>{"use strict";var b=a.i(87924),c=a.i(63519),d=a.i(92258),e=a.i(24987),f=a.i(20997);function g({className:a=""}){let{getPlatformInfo:g}=(0,f.usePaymentMethods)(),h=g();return(0,b.jsxs)("div",{className:`text-xs text-gray-600 space-y-1 ${a}`,children:[(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)(c.Phone,{className:"h-3 w-3 mr-2 text-gray-500"}),(0,b.jsx)("span",{children:h.phone})]}),(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)(d.Mail,{className:"h-3 w-3 mr-2 text-gray-500"}),(0,b.jsx)("span",{children:h.email})]}),(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)(e.MapPin,{className:"h-3 w-3 mr-2 text-gray-500"}),(0,b.jsx)("span",{children:h.address})]})]})}a.s(["default",()=>g])},69012,a=>{"use strict";let b=(0,a.i(70106).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);a.s(["Filter",()=>b],69012)},80701,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d=c.forwardRef(({className:a,value:c,onValueChange:d,onChange:e,children:f,...g},h)=>(0,b.jsx)("select",{ref:h,value:c,onChange:a=>{e?.(a),d?.(a.target.value)},className:`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${a||""}`,"aria-label":g["aria-label"]||g.title||"Select option",...g,children:f}));d.displayName="Select";let e=c.forwardRef(({className:a,children:c,...d},e)=>(0,b.jsx)("button",{ref:e,className:`flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${a||""}`,...d,children:c}));e.displayName="SelectTrigger";let f=({children:a})=>(0,b.jsx)("div",{className:"relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md",children:a}),g=c.forwardRef(({className:a,children:c,...d},e)=>(0,b.jsx)("option",{ref:e,className:`relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground ${a||""}`,...d,children:c}));g.displayName="SelectItem";let h=({placeholder:a=""})=>(0,b.jsx)("span",{className:"block truncate",children:a});a.s(["Select",()=>d,"SelectContent",()=>f,"SelectItem",()=>g,"SelectTrigger",()=>e,"SelectValue",()=>h])},83032,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(91119),e=a.i(68982),f=a.i(86304),g=a.i(99570),h=a.i(66718),i=a.i(80701),j=a.i(87532),k=a.i(69012),l=a.i(76472),m=a.i(77156),n=a.i(24987),o=a.i(41675),p=a.i(24507);function q(){let[a,q]=(0,c.useState)([]),[r,s]=(0,c.useState)(!0),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)("all"),[x,y]=(0,c.useState)("created_at");(0,c.useEffect)(()=>{z()},[v,x]);let z=async()=>{try{s(!0);let a=p.supabaseClient.from("listings").select(`
          *,
          seller:users!listings_seller_id_fkey(
            full_name,
            email
          ),
          media:listing_media(
            url,
            media_type
          )
        `).eq("status","available").or("featured.eq.true,promoted.eq.true");"all"!==v&&(a=a.eq("category",v)),a=a.order(x,{ascending:!1}).limit(50);let{data:b,error:c}=await a;c?console.error("Error fetching featured listings:",c):q(b||[])}catch(a){console.error("Error:",a)}finally{s(!1)}},A=a.filter(a=>a.title.toLowerCase().includes(t.toLowerCase())||a.description.toLowerCase().includes(t.toLowerCase()));return r?(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),(0,b.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading featured listings..."})]})})}):(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Featured Listings"}),(0,b.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Handpicked properties and items from trusted sellers. These listings are featured for their quality, value, and popularity."})]}),(0,b.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(j.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,b.jsx)(h.Input,{placeholder:"Search listings...",value:t,onChange:a=>u(a.target.value),className:"pl-10"})]}),(0,b.jsxs)(i.Select,{value:v,onValueChange:w,children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{placeholder:"Category"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"all",children:"All Categories"}),(0,b.jsx)(i.SelectItem,{value:"houses",children:"Houses & Apartments"}),(0,b.jsx)(i.SelectItem,{value:"cars",children:"Cars & Vehicles"}),(0,b.jsx)(i.SelectItem,{value:"land",children:"Land & Plots"}),(0,b.jsx)(i.SelectItem,{value:"other",children:"Other Items"})]})]}),(0,b.jsxs)(i.Select,{value:x,onValueChange:y,children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{placeholder:"Sort by"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"created_at",children:"Newest First"}),(0,b.jsx)(i.SelectItem,{value:"price",children:"Price: Low to High"}),(0,b.jsx)(i.SelectItem,{value:"views",children:"Most Viewed"}),(0,b.jsx)(i.SelectItem,{value:"likes",children:"Most Liked"})]})]}),(0,b.jsxs)(g.Button,{onClick:z,variant:"outline",children:[(0,b.jsx)(k.Filter,{className:"h-4 w-4 mr-2"}),"Apply Filters"]})]})}),(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsxs)("p",{className:"text-gray-600",children:["Showing ",A.length," featured listing",1!==A.length?"s":""]})}),0===A.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"text-gray-400 text-6xl mb-4",children:"ðŸ”"}),(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No featured listings found"}),(0,b.jsx)("p",{className:"text-gray-600",children:t||"all"!==v?"Try adjusting your filters or search query":"Check back later for new featured listings"})]}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map(a=>{let c,h;return(0,b.jsxs)(d.Card,{className:"hover:shadow-lg transition-shadow duration-200",children:[(0,b.jsxs)(d.CardHeader,{className:"pb-3",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)(f.Badge,{className:`${(a=>{switch(a){case"houses":return"bg-blue-100 text-blue-800";case"cars":return"bg-green-100 text-green-800";case"land":return"bg-yellow-100 text-yellow-800";default:return"bg-purple-100 text-purple-800"}})(a.category)} border-0`,children:[(a=>{switch(a){case"houses":return"ðŸ ";case"cars":return"ðŸš—";case"land":return"ðŸŒ³";default:return"ðŸ“¦"}})(a.category)," ",a.category]}),(0,b.jsxs)("div",{className:"flex gap-1",children:[a.featured&&(0,b.jsx)(f.Badge,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"â­ Featured"}),a.promoted&&(0,b.jsx)(f.Badge,{variant:"secondary",className:"bg-red-100 text-red-800",children:"ðŸš€ Promoted"})]})]}),(0,b.jsx)(d.CardTitle,{className:"text-lg line-clamp-2",children:a.title})]}),(0,b.jsxs)(d.CardContent,{children:[a.media&&a.media.length>0&&(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsx)("img",{src:a.media[0].url,alt:a.title,className:"w-full h-48 object-cover rounded-lg"})}),(0,b.jsxs)("div",{className:"text-2xl font-bold text-red-600 mb-3",children:[(c=a.price,h=a.currency,new Intl.NumberFormat("en-RW",{style:"currency",currency:"RWF"===h?"RWF":"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(c)),"negotiable"===a.price_type&&(0,b.jsx)("span",{className:"text-sm text-gray-500 ml-2",children:"(Negotiable)"})]}),(0,b.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:a.description}),a.location&&"object"==typeof a.location&&(0,b.jsxs)("div",{className:"flex items-center text-gray-500 text-sm mb-3",children:[(0,b.jsx)(n.MapPin,{className:"h-4 w-4 mr-1"}),a.location?.district||"Location not specified"]}),(0,b.jsx)(e.default,{className:"mb-4"}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(m.Eye,{className:"h-4 w-4"}),a.views]}),(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(l.Heart,{className:"h-4 w-4"}),a.likes]})]}),(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(o.Calendar,{className:"h-4 w-4"}),new Date(a.created_at).toLocaleDateString()]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Listed by"}),(0,b.jsx)("p",{className:"font-medium text-gray-900",children:a.seller?.full_name||"Anonymous"})]}),(0,b.jsx)(g.Button,{asChild:!0,children:(0,b.jsx)("a",{href:`/listings/${a.category}/${a.id}`,children:"View Details"})})]})]})]},a.id)})})]})})}a.s(["default",()=>q])}];

//# sourceMappingURL=_bd1f4b17._.js.map