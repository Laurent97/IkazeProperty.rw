module.exports=[91990,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(15925),f=a.i(87532),g=a.i(81010),h=a.i(48464),i=a.i(79161),j=a.i(83497),k=a.i(3314),l=a.i(60246),m=a.i(24669),n=a.i(32860),o=a.i(24987),p=a.i(41675),q=a.i(99570),r=a.i(91119),s=a.i(68982),t=a.i(86304),u=a.i(62297),v=a.i(22436),w=a.i(56884),x=a.i(54059),y=a.i(75098);function z(){let a=(0,e.useTranslations)(),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)([]),[D,E]=(0,c.useState)(!0),[F,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)(!0),[J,K]=(0,c.useState)(0),[L,M]=(0,c.useState)("all"),[N,O]=(0,c.useState)("created_at"),[P,Q]=(0,c.useState)(0),[R,S]=(0,c.useState)([]),[T,U]=(0,c.useState)(!1),[V,W]=(0,c.useState)(0);(0,c.useRef)(null);let X=(0,c.useRef)(null),Y=async(a,b=!1)=>{try{b?G(!0):E(!0);let c=getSupabaseClient().from("listings").select(`
          *,
          seller:users!listings_seller_id_fkey(
            full_name,
            email
          ),
          media:listing_media(
            url,
            media_type,
            is_primary,
            order_index
          ).order('is_primary', { ascending: false }).order('order_index', { ascending: true }),
          house_details,
          car_details,
          land_details,
          other_item_details
        `,{count:"exact"}).eq("status","available");"all"!==L&&(c=c.eq("category",L)),z.trim()&&(c=c.or(`title.ilike.%${z}%,description.ilike.%${z}%`)),c=c.order(N,{ascending:!1}).range(20*a,(a+1)*20-1);let{data:d,error:e,count:f}=await c;if(e)console.error("Error fetching listings:",e);else{b?C(a=>[...a,...d||[]]):(C(d||[]),Q(f||0));let c=20===(d?.length||0)&&(a+1)*20<(f||0);I(c),b||K(0)}}catch(a){console.error("Error:",a)}finally{E(!1),G(!1)}};(0,c.useEffect)(()=>{Y(0,!1)},[L,N]),(0,c.useEffect)(()=>{let a=setTimeout(()=>{0===J&&Y(0,!1)},500);return()=>clearTimeout(a)},[z]);let Z=(a,b)=>new Intl.NumberFormat("en-RW",{style:"currency",currency:"RWF"===b?"RWF":"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(a),$=[{name:a("listing.houses"),href:"/listings/houses",icon:g.Home,description:a("homepage.categories.housesDescription"),color:"bg-blue-500",count:"1,234"},{name:a("listing.cars"),href:"/listings/cars",icon:h.Car,description:a("homepage.categories.carsDescription"),color:"bg-green-500",count:"856"},{name:a("listing.land"),href:"/listings/land",icon:i.Trees,description:a("homepage.categories.landDescription"),color:"bg-yellow-500",count:"432"},{name:a("listing.other"),href:"/listings/other",icon:j.Package,description:a("homepage.categories.otherDescription"),color:"bg-purple-500",count:"2,156"}],_=[{label:a("homepage.stats.activeListings"),value:"4,678",icon:j.Package},{label:a("homepage.stats.verifiedUsers"),value:"12,456",icon:l.Users},{label:a("homepage.stats.successfulTransactions"),value:"3,234",icon:m.TrendingUp},{label:a("homepage.stats.trustScore"),value:"98.5%",icon:k.Shield}];return(0,b.jsxs)("div",{className:"min-h-screen",children:[(0,b.jsxs)("section",{className:"relative bg-gradient-to-r from-red-600 to-red-700 text-white py-20 overflow-hidden",children:[(0,b.jsxs)("div",{className:"absolute inset-0 opacity-10",children:[(0,b.jsx)("img",{src:"/images/ikazeproperty-logo.svg",alt:"Ikaze Property Background",className:"absolute top-10 right-10 w-64 h-64 object-contain transform rotate-12"}),(0,b.jsx)("img",{src:"/images/ikazeproperty-logo.svg",alt:"Ikaze Property Background",className:"absolute bottom-10 left-10 w-48 h-48 object-contain transform -rotate-12"})]}),(0,b.jsx)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:a("homepage.hero.title")}),(0,b.jsx)("p",{className:"text-xl md:text-2xl mb-8 text-red-100",children:a("homepage.hero.subtitle")}),(0,b.jsx)("form",{onSubmit:a=>{a.preventDefault(),K(0),Y(0,!1)},className:"max-w-2xl mx-auto",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsx)(f.Search,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),(0,b.jsx)("input",{type:"text",value:z,onChange:a=>A(a.target.value),placeholder:a("homepage.hero.searchPlaceholder"),className:"w-full pl-10 pr-4 py-3 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-white"})]}),(0,b.jsx)(q.Button,{type:"submit",className:"bg-white text-red-600 hover:bg-gray-100 px-8",children:a("common.search")})]})})]})})]}),(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,b.jsx)("div",{className:"py-6",children:(0,b.jsx)(u.HomepageLeaderboard,{})})}),(0,b.jsx)("section",{className:"py-16 bg-gray-50",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,b.jsxs)("div",{className:"text-center mb-12",children:[(0,b.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:a("homepage.categories.title")}),(0,b.jsx)("p",{className:"text-lg text-gray-600",children:a("homepage.categories.subtitle")})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:$.map(a=>{let c=a.icon;return(0,b.jsx)(d.default,{href:a.href,children:(0,b.jsx)(r.Card,{className:"hover:shadow-lg transition-shadow cursor-pointer group",children:(0,b.jsxs)(r.CardContent,{className:"p-6",children:[(0,b.jsx)("div",{className:`${a.color} w-12 h-12 rounded-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:(0,b.jsx)(c,{className:"h-6 w-6 text-white"})}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:a.name}),(0,b.jsx)("p",{className:"text-gray-600 text-sm mb-3",children:a.description}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-2xl font-bold text-red-600",children:a.count}),(0,b.jsx)(n.ArrowRight,{className:"h-5 w-5 text-gray-400 group-hover:text-red-600 transition-colors"})]})]})})},a.name)})})]})}),T&&(0,b.jsx)(y.default,{images:R,initialIndex:V,isOpen:T,onClose:()=>{U(!1),S([]),W(0)}}),(0,b.jsxs)("section",{className:"py-16",children:[(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,b.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-12 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:a("homepage.listings.title")}),(0,b.jsx)("p",{className:"text-lg text-gray-600",children:P>0?a("homepage.listings.showing",{count:B.length,total:P}):a("homepage.listings.browseAll")})]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 w-full lg:w-auto",children:[(0,b.jsxs)("select",{value:L,onChange:a=>{M(a.target.value),K(0)},className:"flex h-10 w-full sm:w-48 rounded-md border border-input bg-background px-3 py-2 text-sm","aria-label":a("homepage.filters.filterByCategory"),title:a("homepage.filters.filterByCategory"),children:[(0,b.jsx)("option",{value:"all",children:a("homepage.filters.allCategories")}),(0,b.jsx)("option",{value:"houses",children:a("listing.houses")}),(0,b.jsx)("option",{value:"cars",children:a("listing.cars")}),(0,b.jsx)("option",{value:"land",children:a("listing.land")}),(0,b.jsx)("option",{value:"other",children:a("listing.other")})]}),(0,b.jsxs)("select",{value:N,onChange:a=>{O(a.target.value),K(0)},className:"flex h-10 w-full sm:w-48 rounded-md border border-input bg-background px-3 py-2 text-sm","aria-label":a("homepage.filters.sortListings"),title:a("homepage.filters.sortListings"),children:[(0,b.jsx)("option",{value:"created_at",children:a("homepage.filters.newestFirst")}),(0,b.jsx)("option",{value:"price",children:a("homepage.filters.priceLowToHigh")}),(0,b.jsx)("option",{value:"views",children:a("homepage.filters.mostViewed")}),(0,b.jsx)("option",{value:"likes",children:a("homepage.filters.mostLiked")})]})]})]}),D&&0===B.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),(0,b.jsx)("p",{className:"mt-4 text-gray-600",children:a("homepage.listings.loading")})]}):0===B.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"text-gray-400 text-6xl mb-4",children:"ðŸ”"}),(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:a("homepage.listings.noListings")}),(0,b.jsx)("p",{className:"text-gray-600",children:z||"all"!==L?a("homepage.listings.tryAdjustingFilters"):a("homepage.listings.checkBackLater")})]}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:B.map((c,e)=>(0,b.jsxs)(r.Card,{ref:e===B.length-3?X:void 0,className:"hover:shadow-xl transition-all duration-300 hover:scale-105 group cursor-pointer border border-gray-200 hover:border-red-300",onClick:()=>window.open(`/listings/${c.category}/${c.id}`,"_blank"),children:[(0,b.jsx)(r.CardHeader,{className:"pb-4",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(t.Badge,{className:`${(a=>{switch(a){case"houses":return"bg-blue-100 text-blue-800";case"cars":return"bg-green-100 text-green-800";case"land":return"bg-yellow-100 text-yellow-800";default:return"bg-purple-100 text-purple-800"}})(c.category)} border-0`,children:[(a=>{switch(a){case"houses":return"ðŸ ";case"cars":return"ðŸš—";case"land":return"ðŸŒ³";default:return"ðŸ“¦"}})(c.category)," ",c.category]}),(0,b.jsxs)("div",{className:"flex-1",children:[c.featured&&(0,b.jsxs)(t.Badge,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 ml-2",children:["â­ ",a("homepage.listings.featured")]}),c.promoted&&(0,b.jsxs)(t.Badge,{variant:"secondary",className:"bg-red-100 text-red-800 ml-2",children:["ðŸš€ ",a("homepage.listings.promoted")]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-2xl font-bold text-red-600 mb-1",children:Z(c.price,c.currency)}),"negotiable"===c.price_type&&(0,b.jsxs)("span",{className:"text-sm text-gray-500",children:["(",a("listing.negotiable"),")"]})]})]})}),(0,b.jsxs)(r.CardContent,{className:"p-6",children:[(0,b.jsx)("div",{className:"mb-4",children:c.media&&c.media.length>0?(0,b.jsxs)("div",{className:"relative",children:["video"===c.media[0].media_type?(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("video",{src:c.media[0].url,className:"w-full h-56 object-cover rounded-lg",muted:!0,playsInline:!0,poster:c.media[0].url}),(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 rounded-lg",children:(0,b.jsx)("div",{className:"w-12 h-12 bg-white bg-opacity-90 rounded-full flex items-center justify-center",children:(0,b.jsx)("svg",{className:"w-6 h-6 text-gray-800",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 004 4.11L6.3 2.841A1.5 1.5 0 004 4.11z"})})})})]}):(0,b.jsx)("img",{src:c.media[0].url,alt:c.title,className:"w-full h-56 object-cover rounded-lg cursor-pointer",onClick:()=>{var a;return a=c.media.filter(a=>"image"===a.media_type).map(a=>a.url),void(S(a),W(0),U(!0))}}),c.media[0].is_primary&&(0,b.jsx)(t.Badge,{className:"absolute top-2 left-2 bg-red-600 text-white text-xs",children:a("homepage.listings.primary")})]}):(0,b.jsx)("div",{className:"w-full h-56 bg-gray-200 rounded-lg flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-gray-400 text-4xl mb-2",children:"ðŸ“·"}),(0,b.jsx)("p",{className:"text-gray-500 text-sm",children:a("homepage.listings.noMedia")})]})})}),(0,b.jsxs)("div",{className:"text-2xl font-bold text-red-600 mb-3",children:[Z(c.price,c.currency),"negotiable"===c.price_type&&(0,b.jsxs)("span",{className:"text-sm text-gray-500 ml-2",children:["(",a("listing.negotiable"),")"]})]}),(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-3",children:c.description})}),(0,b.jsx)(x.default,{category:c.category,listing:c,className:"mb-3"}),c.location&&"object"==typeof c.location&&(0,b.jsxs)("div",{className:"flex items-center text-gray-500 text-sm mb-3",children:[(0,b.jsx)(o.MapPin,{className:"h-4 w-4 mr-1"}),c.location?.district||a("homepage.listings.locationNotSpecified")]}),(0,b.jsx)(s.default,{className:"mb-4"}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(w.default,{listingId:c.id,viewsCount:c.views||0,className:"text-xs"}),(0,b.jsx)(v.default,{listingId:c.id,likesCount:c.likes||0,className:"text-xs ml-3"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(p.Calendar,{className:"h-4 w-4"}),new Date(c.created_at).toLocaleDateString()]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500",children:a("homepage.listings.listedBy")}),(0,b.jsx)("p",{className:"font-medium text-gray-900",children:c.seller?.full_name||a("homepage.listings.anonymous")})]}),(0,b.jsx)(d.default,{href:`/listings/${c.category}/${c.id}`,children:(0,b.jsx)(q.Button,{children:a("homepage.listings.viewDetails")})})]})]})]},c.id))}),F&&(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto"}),(0,b.jsx)("p",{className:"mt-2 text-gray-600",children:a("homepage.listings.loadingMore")})]}),!H&&B.length>0&&(0,b.jsx)("div",{className:"text-center py-8",children:(0,b.jsx)("p",{className:"text-gray-600",children:B.length===P?a("homepage.listings.reachedEnd",{total:P}):a("homepage.listings.noMoreListings")})})]}),(0,b.jsx)("div",{className:"hidden lg:block",children:(0,b.jsx)("div",{className:"ml-6",children:(0,b.jsx)(u.HomepageSidebar,{})})})]}),(0,b.jsx)("section",{className:"py-16 bg-gray-50",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,b.jsxs)("div",{className:"text-center mb-12",children:[(0,b.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:a("homepage.stats.title")}),(0,b.jsx)("p",{className:"text-lg text-gray-600",children:a("homepage.stats.subtitle")})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:_.map(a=>{let c=a.icon;return(0,b.jsx)(r.Card,{children:(0,b.jsxs)(r.CardContent,{className:"p-6 text-center",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(c,{className:"h-6 w-6 text-red-600"})}),(0,b.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:a.value}),(0,b.jsx)("div",{className:"text-gray-600",children:a.label})]})},a.label)})})]})}),(0,b.jsx)("section",{className:"py-16",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,b.jsxs)("div",{className:"text-center mb-12",children:[(0,b.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:a("homepage.howItWorks.title")}),(0,b.jsx)("p",{className:"text-lg text-gray-600",children:a("homepage.howItWorks.subtitle")})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)("span",{className:"text-white font-bold text-xl",children:"1"})}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:a("homepage.howItWorks.step1.title")}),(0,b.jsx)("p",{className:"text-gray-600",children:a("homepage.howItWorks.step1.description")})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)("span",{className:"text-white font-bold text-xl",children:"2"})}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:a("homepage.howItWorks.step2.title")}),(0,b.jsx)("p",{className:"text-gray-600",children:a("homepage.howItWorks.step2.description")})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)("span",{className:"text-white font-bold text-xl",children:"3"})}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:a("homepage.howItWorks.step3.title")}),(0,b.jsx)("p",{className:"text-gray-600",children:a("homepage.howItWorks.step3.description")})]})]})]})}),(0,b.jsx)("section",{className:"py-16 bg-red-600 text-white",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,b.jsx)("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:a("homepage.cta.title")}),(0,b.jsx)("p",{className:"text-xl mb-8 text-red-100",children:a("homepage.cta.subtitle")}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,b.jsx)(d.default,{href:"/create-listing",children:(0,b.jsx)(q.Button,{size:"lg",className:"bg-white text-red-600 hover:bg-gray-100",asChild:!0,children:a("homepage.cta.startSelling")})}),(0,b.jsx)(d.default,{href:"/listings",children:(0,b.jsx)(q.Button,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white hover:text-red-600",asChild:!0,children:a("homepage.cta.browseListings")})})]})]})})]})}a.s(["default",()=>z])}];

//# sourceMappingURL=src_app_%5Blocale%5D_page_tsx_dd0cab1f._.js.map