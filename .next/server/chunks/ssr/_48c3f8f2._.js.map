{"version":3,"sources":["../../../../src/components/ui/input.tsx","../../../../node_modules/lucide-react/src/icons/calendar.ts","../../../../node_modules/lucide-react/src/icons/arrow-left.ts","../../../../node_modules/lucide-react/src/icons/square-pen.ts","../../../../node_modules/lucide-react/src/icons/clock.ts","../../../../node_modules/lucide-react/src/icons/circle-x.ts","../../../../src/components/ui/textarea.tsx","../../../../node_modules/lucide-react/src/icons/save.ts","../../../../src/components/chat/InquiryChat.tsx"],"sourcesContent":["import * as React from \"react\"\n\nexport interface InputProps\n  extends React.InputHTMLAttributes<HTMLInputElement> {}\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${className || ''}`}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M8 2v4', key: '1cmpym' }],\n  ['path', { d: 'M16 2v4', key: '4m81vk' }],\n  ['rect', { width: '18', height: '18', x: '3', y: '4', rx: '2', key: '1hopcy' }],\n  ['path', { d: 'M3 10h18', key: '8toen8' }],\n];\n\n/**\n * @component @name Calendar\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOCAydjQiIC8+CiAgPHBhdGggZD0iTTE2IDJ2NCIgLz4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjQiIHJ4PSIyIiAvPgogIDxwYXRoIGQ9Ik0zIDEwaDE4IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/calendar\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Calendar = createLucideIcon('calendar', __iconNode);\n\nexport default Calendar;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm12 19-7-7 7-7', key: '1l729n' }],\n  ['path', { d: 'M19 12H5', key: 'x3x0zl' }],\n];\n\n/**\n * @component @name ArrowLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIgMTktNy03IDctNyIgLz4KICA8cGF0aCBkPSJNMTkgMTJINSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowLeft = createLucideIcon('arrow-left', __iconNode);\n\nexport default ArrowLeft;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7', key: '1m0v6g' }],\n  [\n    'path',\n    {\n      d: 'M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z',\n      key: 'ohrbg2',\n    },\n  ],\n];\n\n/**\n * @component @name SquarePen\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgM0g1YTIgMiAwIDAgMC0yIDJ2MTRhMiAyIDAgMCAwIDIgMmgxNGEyIDIgMCAwIDAgMi0ydi03IiAvPgogIDxwYXRoIGQ9Ik0xOC4zNzUgMi42MjVhMSAxIDAgMCAxIDMgM2wtOS4wMTMgOS4wMTRhMiAyIDAgMCAxLS44NTMuNTA1bC0yLjg3My44NGEuNS41IDAgMCAxLS42Mi0uNjJsLjg0LTIuODczYTIgMiAwIDAgMSAuNTA2LS44NTJ6IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/square-pen\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst SquarePen = createLucideIcon('square-pen', __iconNode);\n\nexport default SquarePen;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 6v6l4 2', key: 'mmk7yg' }],\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n];\n\n/**\n * @component @name Clock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgNnY2bDQgMiIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/clock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Clock = createLucideIcon('clock', __iconNode);\n\nexport default Clock;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'm15 9-6 6', key: '1uzhvr' }],\n  ['path', { d: 'm9 9 6 6', key: 'z0biqf' }],\n];\n\n/**\n * @component @name CircleX\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJtMTUgOS02IDYiIC8+CiAgPHBhdGggZD0ibTkgOSA2IDYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/circle-x\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleX = createLucideIcon('circle-x', __iconNode);\n\nexport default CircleX;\n","import * as React from \"react\"\n\nexport interface TextareaProps\n  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={`flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${className || ''}`}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z',\n      key: '1c8476',\n    },\n  ],\n  ['path', { d: 'M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7', key: '1ydtos' }],\n  ['path', { d: 'M7 3v4a1 1 0 0 0 1 1h7', key: 't51u73' }],\n];\n\n/**\n * @component @name Save\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUuMiAzYTIgMiAwIDAgMSAxLjQuNmwzLjggMy44YTIgMiAwIDAgMSAuNiAxLjRWMTlhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yeiIgLz4KICA8cGF0aCBkPSJNMTcgMjF2LTdhMSAxIDAgMCAwLTEtMUg4YTEgMSAwIDAgMC0xIDF2NyIgLz4KICA8cGF0aCBkPSJNNyAzdjRhMSAxIDAgMCAwIDEgMWg3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/save\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Save = createLucideIcon('save', __iconNode);\n\nexport default Save;\n","'use client'\n\nimport { useState, useRef, useEffect } from 'react'\nimport { MessageCircle, Send, X, User, Shield } from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Badge } from '@/components/ui/badge'\nimport { useAuth } from '@/contexts/AuthContext'\n\ninterface Message {\n  id: string\n  text: string\n  sender: 'admin' | 'customer'\n  timestamp: Date | string | null | undefined\n  senderName?: string\n}\n\ninterface InquiryChatProps {\n  inquiryId: string\n  customerId: string\n  customerName: string\n  customerEmail: string\n  isOpen?: boolean\n  onToggle?: () => void\n  userType?: 'admin' | 'customer'\n}\n\nexport default function InquiryChat({ \n  inquiryId, \n  customerId, \n  customerName, \n  customerEmail, \n  isOpen: controlledIsOpen, \n  onToggle,\n  userType = 'customer'\n}: InquiryChatProps) {\n  const { user } = useAuth()\n  const [isInternalOpen, setIsInternalOpen] = useState(false)\n  const [messages, setMessages] = useState<Message[]>([])\n  const [inputText, setInputText] = useState('')\n  const [isLoading, setIsLoading] = useState(false)\n  const [isTyping, setIsTyping] = useState(false)\n  const messagesEndRef = useRef<HTMLDivElement>(null)\n\n  const isControlled = controlledIsOpen !== undefined\n  const isOpen = isControlled ? controlledIsOpen : isInternalOpen\n  const toggleChat = isControlled ? onToggle : () => setIsInternalOpen(!isInternalOpen)\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' })\n  }\n\n  useEffect(() => {\n    scrollToBottom()\n  }, [messages])\n\n  useEffect(() => {\n    if (isOpen && inquiryId) {\n      loadMessages()\n    }\n  }, [isOpen, inquiryId])\n\n  const loadMessages = async () => {\n    try {\n      setIsLoading(true)\n      \n      // Get session token for API call\n      const { supabaseClient } = await import('@/lib/supabase-client')\n      const { data: { session } } = await supabaseClient.auth.getSession()\n      \n      if (!session?.access_token) {\n        console.error('No session token found')\n        return\n      }\n\n      // Load chat messages for this inquiry\n      const response = await fetch(`/api/inquiries/${inquiryId}/chat`, {\n        headers: {\n          'Authorization': `Bearer ${session.access_token}`\n        }\n      })\n\n      if (response.ok) {\n        const result = await response.json()\n        // Map database fields to component interface\n        const mappedMessages = (result.data || []).map((msg: any) => ({\n          ...msg,\n          sender: msg.sender_type, // Map sender_type to sender\n          text: msg.message, // Map message field to text\n          timestamp: msg.created_at // Map created_at to timestamp\n        }))\n        setMessages(mappedMessages)\n      } else {\n        const errorData = await response.json()\n        console.error('Chat API error:', errorData)\n        // Show user-friendly error message\n        if (response.status === 503) {\n          console.error('Chat table not set up. Please contact administrator.')\n        }\n      }\n    } catch (error) {\n      console.error('Error loading messages:', error)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const sendMessage = async () => {\n    if (!inputText.trim() || !user) return\n\n    // Use the userType prop to determine sender type\n    const senderType = userType\n\n    const newMessage: Message = {\n      id: Date.now().toString(),\n      text: inputText.trim(),\n      sender: senderType,\n      timestamp: new Date(),\n      senderName: user.email\n    }\n\n    try {\n      setIsTyping(true)\n      setInputText('')\n\n      // Get session token for API call\n      const { supabaseClient } = await import('@/lib/supabase-client')\n      const { data: { session } } = await supabaseClient.auth.getSession()\n      \n      if (!session?.access_token) {\n        throw new Error('No session token')\n      }\n\n      // Send message via API\n      const response = await fetch(`/api/inquiries/${inquiryId}/chat`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${session.access_token}`\n        },\n        body: JSON.stringify({\n          message: newMessage.text,\n          sender: senderType\n        })\n      })\n\n      if (response.ok) {\n        const result = await response.json()\n        // Use the server response with proper field mapping\n        const serverMessage = {\n          ...result.data,\n          sender: result.data.sender_type, // Map sender_type to sender\n          text: result.data.message, // Map message field to text\n          timestamp: result.data.created_at // Map created_at to timestamp\n        }\n        setMessages(prev => [...prev, serverMessage])\n      } else {\n        const errorData = await response.json()\n        console.error('Send message API error:', errorData)\n        throw new Error(errorData.error || 'Failed to send message')\n      }\n    } catch (error) {\n      console.error('Error sending message:', error)\n      // Revert the input if sending failed\n      setInputText(newMessage.text)\n      // Show error message to user\n      alert('Failed to send message. Please try again.')\n    } finally {\n      setIsTyping(false)\n    }\n  }\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault()\n      sendMessage()\n    }\n  }\n\n  const formatTime = (date: Date | string | null | undefined) => {\n    try {\n      // Handle null, undefined, or empty values\n      if (!date) {\n        return 'Unknown time'\n      }\n      \n      const dateObj = typeof date === 'string' ? new Date(date) : date\n      \n      // Check if the date is valid\n      if (isNaN(dateObj.getTime())) {\n        return 'Invalid time'\n      }\n      \n      return dateObj.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n    } catch (error) {\n      console.error('Error formatting time:', error, 'Input:', date)\n      return 'Invalid time'\n    }\n  }\n\n  const formatDate = (date: Date | string | null | undefined) => {\n    try {\n      // Handle null, undefined, or empty values\n      if (!date) {\n        return 'Unknown date'\n      }\n      \n      const today = new Date()\n      const messageDate = typeof date === 'string' ? new Date(date) : date\n      \n      // Check if the date is valid\n      if (isNaN(messageDate.getTime())) {\n        return 'Invalid date'\n      }\n      \n      if (messageDate.toDateString() === today.toDateString()) {\n        return 'Today'\n      }\n      \n      const yesterday = new Date(today)\n      yesterday.setDate(yesterday.getDate() - 1)\n      \n      if (messageDate.toDateString() === yesterday.toDateString()) {\n        return 'Yesterday'\n      }\n      \n      return messageDate.toLocaleDateString()\n    } catch (error) {\n      console.error('Error formatting date:', error, 'Input:', date)\n      return 'Invalid date'\n    }\n  }\n\n  const groupMessagesByDate = (messages: Message[]) => {\n    const groups: { [date: string]: Message[] } = {}\n    \n    messages.forEach(message => {\n      try {\n        // Skip messages with invalid timestamps\n        if (!message.timestamp) {\n          if (!groups['Unknown Date']) {\n            groups['Unknown Date'] = []\n          }\n          groups['Unknown Date'].push(message)\n          return\n        }\n        \n        // Handle both string and Date timestamps\n        const date = new Date(message.timestamp).toDateString()\n        if (!groups[date]) {\n          groups[date] = []\n        }\n        groups[date].push(message)\n      } catch (error) {\n        console.error('Error grouping message by date:', error, message)\n        // Put invalid dates in a separate group\n        if (!groups['Invalid Date']) {\n          groups['Invalid Date'] = []\n        }\n        groups['Invalid Date'].push(message)\n      }\n    })\n    \n    return groups\n  }\n\n  if (!isOpen) {\n    return null\n  }\n\n  const messageGroups = groupMessagesByDate(messages)\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n      <Card className=\"w-full max-w-2xl h-[600px] flex flex-col\">\n        <CardHeader className=\"flex-shrink-0 border-b\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"flex items-center space-x-2\">\n                <MessageCircle className=\"h-5 w-5 text-blue-600\" />\n                <CardTitle className=\"text-lg\">Inquiry Chat</CardTitle>\n              </div>\n              <Badge variant=\"outline\" className=\"text-xs\">\n                {customerName}\n              </Badge>\n            </div>\n            <Button variant=\"ghost\" size=\"sm\" onClick={toggleChat}>\n              <X className=\"h-4 w-4\" />\n            </Button>\n          </div>\n          <div className=\"text-sm text-gray-600\">\n            <p>Customer: {customerName} ({customerEmail})</p>\n            <p>Inquiry ID: {inquiryId}</p>\n          </div>\n        </CardHeader>\n\n        <CardContent className=\"flex-1 flex flex-col p-0 overflow-hidden\">\n          {/* Messages Area */}\n          <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n            {isLoading ? (\n              <div className=\"flex items-center justify-center h-full\">\n                <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n              </div>\n            ) : messages.length === 0 ? (\n              <div className=\"text-center text-gray-500 mt-8\">\n                <MessageCircle className=\"h-12 w-12 mx-auto mb-4 text-gray-400\" />\n                <p>No messages yet. Start the conversation!</p>\n              </div>\n            ) : (\n              Object.entries(messageGroups).map(([date, dateMessages]) => (\n                <div key={date} className=\"space-y-3\">\n                  <div className=\"flex items-center justify-center\">\n                    <div className=\"bg-gray-100 rounded-full px-3 py-1\">\n                      <span className=\"text-xs text-gray-600 font-medium\">\n                        {formatDate(new Date(date))}\n                      </span>\n                    </div>\n                  </div>\n                  \n                  {dateMessages.map((message) => (\n                    <div\n                      key={message.id}\n                      className={`flex ${message.sender === 'admin' ? 'justify-end' : 'justify-start'}`}\n                    >\n                      <div className={`max-w-[70%] ${message.sender === 'admin' ? 'order-2' : 'order-1'}`}>\n                        <div className=\"flex items-center space-x-2 mb-1\">\n                          {message.sender === 'admin' ? (\n                            <div className=\"flex items-center space-x-1 text-xs text-blue-600 font-medium\">\n                              <Shield className=\"h-3 w-3\" />\n                              <span>Admin</span>\n                            </div>\n                          ) : (\n                            <div className=\"flex items-center space-x-1 text-xs text-green-600 font-medium\">\n                              <User className=\"h-3 w-3\" />\n                              <span>{message.senderName || 'Customer'}</span>\n                            </div>\n                          )}\n                          <span className=\"text-xs text-gray-400\">\n                            {formatTime(message.timestamp)}\n                          </span>\n                        </div>\n                        <div\n                          className={`rounded-lg px-4 py-2 ${\n                            message.sender === 'admin'\n                              ? 'bg-blue-600 text-white border border-blue-700'\n                              : 'bg-gray-100 text-gray-900 border border-gray-300'\n                          }`}\n                        >\n                          <p className=\"text-sm whitespace-pre-wrap\">{message.text}</p>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              ))\n            )}\n            <div ref={messagesEndRef} />\n          </div>\n\n          {/* Message Input */}\n          <div className=\"border-t p-4\">\n            <div className=\"flex space-x-2\">\n              <Input\n                value={inputText}\n                onChange={(e) => setInputText(e.target.value)}\n                onKeyPress={handleKeyPress}\n                placeholder=\"Type your message...\"\n                disabled={isTyping || !user}\n                className=\"flex-1\"\n              />\n              <Button\n                onClick={sendMessage}\n                disabled={!inputText.trim() || isTyping || !user}\n                size=\"sm\"\n                className=\"bg-blue-600 hover:bg-blue-700\"\n              >\n                <Send className=\"h-4 w-4\" />\n              </Button>\n            </div>\n            {!user && (\n              <p className=\"text-xs text-red-600 mt-2\">You must be logged in to send messages</p>\n            )}\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","ignoreList":[1,2,3,4,5,7]}