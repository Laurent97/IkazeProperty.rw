module.exports=[66718,a=>{"use strict";var b=a.i(87924);let c=a.i(72131).forwardRef(({className:a,type:c,...d},e)=>(0,b.jsx)("input",{type:c,className:`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${a||""}`,ref:e,...d}));c.displayName="Input",a.s(["Input",()=>c])},68982,a=>{"use strict";var b=a.i(87924),c=a.i(63519),d=a.i(92258),e=a.i(24987),f=a.i(20997);function g({className:a=""}){let{getPlatformInfo:g}=(0,f.usePaymentMethods)(),h=g();return(0,b.jsxs)("div",{className:`text-xs text-gray-600 space-y-1 ${a}`,children:[(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)(c.Phone,{className:"h-3 w-3 mr-2 text-gray-500"}),(0,b.jsx)("span",{children:h.phone})]}),(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)(d.Mail,{className:"h-3 w-3 mr-2 text-gray-500"}),(0,b.jsx)("span",{children:h.email})]}),(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)(e.MapPin,{className:"h-3 w-3 mr-2 text-gray-500"}),(0,b.jsx)("span",{children:h.address})]})]})}a.s(["default",()=>g])},41710,a=>{"use strict";let b=(0,a.i(70106).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Clock",()=>b],41710)},77156,a=>{"use strict";let b=(0,a.i(70106).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],77156)},87532,a=>{"use strict";let b=(0,a.i(70106).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>b],87532)},41675,a=>{"use strict";let b=(0,a.i(70106).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],41675)},60246,a=>{"use strict";let b=(0,a.i(70106).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);a.s(["Users",()=>b],60246)},3314,a=>{"use strict";let b=(0,a.i(70106).default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);a.s(["Shield",()=>b],3314)},80701,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d=c.forwardRef(({className:a,value:c,onValueChange:d,onChange:e,children:f,...g},h)=>(0,b.jsx)("select",{ref:h,value:c,onChange:a=>{e?.(a),d?.(a.target.value)},className:`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${a||""}`,"aria-label":g["aria-label"]||g.title||"Select option",...g,children:f}));d.displayName="Select";let e=c.forwardRef(({className:a,children:c,...d},e)=>(0,b.jsx)("button",{ref:e,className:`flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${a||""}`,...d,children:c}));e.displayName="SelectTrigger";let f=({children:a})=>(0,b.jsx)("div",{className:"relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md",children:a}),g=c.forwardRef(({className:a,children:c,...d},e)=>(0,b.jsx)("option",{ref:e,className:`relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground ${a||""}`,...d,children:c}));g.displayName="SelectItem";let h=({placeholder:a=""})=>(0,b.jsx)("span",{className:"block truncate",children:a});a.s(["Select",()=>d,"SelectContent",()=>f,"SelectItem",()=>g,"SelectTrigger",()=>e,"SelectValue",()=>h])},43108,a=>{"use strict";let b=(0,a.i(70106).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);a.s(["Lock",()=>b],43108)},41379,a=>{"use strict";let b=(0,a.i(70106).default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);a.s(["EyeOff",()=>b],41379)},13655,a=>{"use strict";let b=(0,a.i(70106).default)("fuel",[["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 4 0v-6.998a2 2 0 0 0-.59-1.42L18 5",key:"1wtuz0"}],["path",{d:"M14 21V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v16",key:"e09ifn"}],["path",{d:"M2 21h13",key:"1x0fut"}],["path",{d:"M3 9h11",key:"1p7c0w"}]]);a.s(["Fuel",()=>b],13655)},50778,16286,48124,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);a.s(["Bed",()=>c],50778);let d=(0,b.default)("bath",[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]]);a.s(["Bath",()=>d],16286);let e=(0,b.default)("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);a.s(["Square",()=>e],48124)},22436,56884,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(76472),e=a.i(60246),f=a.i(99570),g=a.i(68114);let h=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("div",{ref:d,className:(0,g.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...c}));h.displayName="Avatar";let i=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("img",{ref:d,className:(0,g.cn)("aspect-square h-full w-full object-cover",a),...c}));i.displayName="AvatarImage";let j=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("div",{ref:d,className:(0,g.cn)("flex h-full w-full items-center justify-center rounded-full bg-gray-100 text-gray-600",a),...c}));j.displayName="AvatarFallback";var k=a.i(33508);let l=({open:a,onOpenChange:d,children:e})=>(0,b.jsx)(b.Fragment,{children:c.Children.map(e,b=>c.isValidElement(b)?c.cloneElement(b,{open:a,onOpenChange:d}):b)}),m=c.forwardRef(({className:a,onClick:d,open:e,onOpenChange:f,asChild:h=!1,children:i,...j},k)=>h&&c.isValidElement(i)?c.cloneElement(i,{ref:k,className:(0,g.cn)(a,i.props.className),onClick:a=>{i.props.onClick?.(a),d?.(a),f?.(!e)},...j}):(0,b.jsx)("button",{ref:k,className:a,onClick:a=>{d?.(a),f?.(!e)},...j,children:i}));m.displayName="DialogTrigger";let n=c.forwardRef(({className:a,children:c,open:d,onOpenChange:e,...f},g)=>d?(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,b.jsx)("div",{className:"fixed inset-0 bg-black/80",onClick:()=>e?.(!1)}),(0,b.jsxs)("div",{ref:g,className:`relative z-50 grid w-full max-w-lg gap-4 border bg-background p-6 shadow-lg rounded-lg ${a}`,...f,children:[(0,b.jsxs)("button",{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100",onClick:()=>e?.(!1),children:[(0,b.jsx)(k.X,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Close"})]}),c]})]}):null);n.displayName="DialogContent";let o=({className:a,...c})=>(0,b.jsx)("div",{className:`flex flex-col space-y-1.5 text-center sm:text-left ${a}`,...c});o.displayName="DialogHeader";let p=({className:a,...c})=>(0,b.jsx)("h2",{className:`text-lg font-semibold leading-none tracking-tight ${a}`,...c});p.displayName="DialogTitle";var q=a.i(63672);function r({listingId:a,likesCount:g,className:k=""}){let[r,s]=(0,c.useState)([]),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(!1),x=async()=>{if(0!==g){u(!0);try{let{data:b,error:c}=await q.supabase.from("listing_likes").select(`
          user_id,
          created_at,
          users!listing_likes_user_id_fkey (
            id,
            full_name,
            email,
            avatar_url
          )
        `).eq("listing_id",a).order("created_at",{ascending:!1}).limit(20);if(c)throw c;let d=(b||[]).map(a=>a.users).filter(Boolean);s(d)}catch(a){console.error("Error fetching liked users:",a)}finally{u(!1)}}};return 0===g?(0,b.jsxs)("div",{className:`flex items-center gap-1 text-gray-500 ${k}`,children:[(0,b.jsx)(d.Heart,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"text-sm",children:"No likes yet"})]}):(0,b.jsxs)(l,{open:v,onOpenChange:a=>{w(a),a&&0===r.length&&x()},children:[(0,b.jsx)(m,{asChild:!0,children:(0,b.jsxs)(f.Button,{variant:"ghost",className:`flex items-center gap-1 text-gray-600 hover:text-red-600 ${k}`,children:[(0,b.jsx)(d.Heart,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:g}),(0,b.jsx)("span",{className:"text-xs text-gray-500",children:"likes"})]})}),(0,b.jsxs)(n,{className:"max-w-md",children:[(0,b.jsx)(o,{children:(0,b.jsxs)(p,{className:"flex items-center gap-2",children:[(0,b.jsx)(d.Heart,{className:"h-5 w-5 text-red-500"}),"People who liked this listing"]})}),(0,b.jsx)("div",{className:"space-y-3",children:t?(0,b.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600"})}):0===r.length?(0,b.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,b.jsx)(e.Users,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),(0,b.jsx)("p",{children:"No one has liked this listing yet"})]}):(0,b.jsxs)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[r.map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50",children:[(0,b.jsxs)(h,{className:"h-10 w-10",children:[(0,b.jsx)(i,{src:a.avatar_url||"",alt:a.full_name||""}),(0,b.jsx)(j,{children:a.full_name?.charAt(0)?.toUpperCase()||a.email?.charAt(0)?.toUpperCase()||"U"})]}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"font-medium text-sm truncate",children:a.full_name||"Anonymous User"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 truncate",children:a.email||"No email"})]})]},a.id)),r.length<g&&(0,b.jsxs)("div",{className:"text-center py-2 text-sm text-gray-500",children:["And ",g-r.length," more..."]})]})})]})]})}a.s(["default",()=>r],22436);var s=a.i(77156);function t({listingId:a,viewsCount:d,className:e=""}){let[g,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(!1),[k,r]=(0,c.useState)(!1),t=async()=>{if(0!==d){j(!0);try{let{data:b,error:c}=await q.supabase.from("listing_views").select(`
          id,
          user_id,
          ip_address,
          user_agent,
          viewed_at,
          users!listing_views_user_id_fkey (
            id,
            full_name,
            email,
            avatar_url
          )
        `).eq("listing_id",a).order("viewed_at",{ascending:!1}).limit(20);c?(console.error("Error fetching views:",c),h([])):h(b||[])}catch(a){console.error("Error fetching views:",a),h([])}finally{j(!1)}}};return 0===d?(0,b.jsxs)("div",{className:`flex items-center gap-1 text-gray-500 ${e}`,children:[(0,b.jsx)(s.Eye,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"text-sm",children:"No views yet"})]}):(0,b.jsxs)(l,{open:k,onOpenChange:a=>{r(a),a&&0===g.length&&t()},children:[(0,b.jsx)(m,{asChild:!0,children:(0,b.jsxs)(f.Button,{variant:"ghost",className:`flex items-center gap-1 text-gray-600 hover:text-blue-600 ${e}`,children:[(0,b.jsx)(s.Eye,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:d}),(0,b.jsx)("span",{className:"text-xs text-gray-500",children:"views"})]})}),(0,b.jsxs)(n,{className:"max-w-md",children:[(0,b.jsx)(o,{children:(0,b.jsxs)(p,{className:"flex items-center gap-2",children:[(0,b.jsx)(s.Eye,{className:"h-5 w-5 text-blue-500"}),"Recent views"]})}),(0,b.jsx)("div",{className:"space-y-3",children:i?(0,b.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):0===g.length?(0,b.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,b.jsx)(s.Eye,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),(0,b.jsx)("p",{children:"No views recorded yet"})]}):(0,b.jsxs)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[g.map(a=>{let c,d;return(0,b.jsxs)("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:a.users?(0,b.jsx)("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-xs font-medium text-blue-600",children:a.users.full_name?.charAt(0)?.toUpperCase()||"U"})}):(0,b.jsx)("div",{className:"h-8 w-8 rounded-full bg-gray-100 flex items-center justify-center",children:(0,b.jsx)(s.Eye,{className:"h-4 w-4 text-gray-500"})})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"font-medium text-sm truncate",children:a.users?.full_name||"Anonymous Visitor"}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:[(c=new Date(a.viewed_at),(d=Math.floor((new Date().getTime()-c.getTime())/36e5))<1?"Just now":d<24?`${d}h ago`:d<48?"Yesterday":c.toLocaleDateString()),a.ip_address&&` â€¢ ${a.ip_address}`]})]})]},a.id)}),g.length<d&&(0,b.jsxs)("div",{className:"text-center py-2 text-sm text-gray-500",children:["And ",d-g.length," more views..."]})]})})]})]})}a.s(["default",()=>t],56884)},47290,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(87532),f=a.i(24987),g=a.i(41675),h=a.i(33508),i=a.i(99570),j=a.i(91119),k=a.i(68982),l=a.i(66718),m=a.i(80701),n=a.i(86304),o=a.i(62297),p=a.i(24507),q=a.i(22436),r=a.i(56884),s=a.i(54059);function t(){let a=(0,d.useSearchParams)().get("q")||"",[t,u]=(0,c.useState)(a),[v,w]=(0,c.useState)([]),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)("all"),[B,C]=(0,c.useState)("created_at"),[D,E]=(0,c.useState)(0),[F,G]=(0,c.useState)(!1),H=[{value:"all",label:"All Categories"},{value:"houses",label:"Houses & Apartments"},{value:"cars",label:"Cars & Vehicles"},{value:"land",label:"Land & Plots"},{value:"other",label:"Other Items"}],I=async()=>{if(!t.trim()&&"all"===z){w([]),E(0),G(!1);return}try{y(!0),G(!0);let a=p.supabaseClient.from("listings").select(`
          *,
          seller:users!listings_seller_id_fkey(
            full_name,
            email
          ),
          media:listing_media(
            url,
            public_id,
            media_type,
            is_primary,
            order_index
          ),
          house_details,
          car_details,
          land_details,
          other_item_details
        `,{count:"exact"}).eq("status","available");"all"!==z&&(a=a.eq("category",z)),t.trim()&&(a=a.or(`title.ilike.%${t}%,description.ilike.%${t}%`)),a=a.order(B,{ascending:!1}).limit(50);let{data:b,error:c,count:d}=await a;c?console.error("Error searching listings:",c):(w(b||[]),E(d||0))}catch(a){console.error("Error:",a)}finally{y(!1)}};(0,c.useEffect)(()=>{(a||"all"!==z)&&I()},[]),(0,c.useEffect)(()=>{let a=setTimeout(()=>{I()},500);return()=>clearTimeout(a)},[t,z,B]);let J=()=>{u(""),A("all"),w([]),E(0),G(!1)};return(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)("section",{className:"bg-white border-b",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Search Listings"}),(0,b.jsx)("p",{className:"text-lg text-gray-600",children:"Find exactly what you're looking for"})]}),(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),I()},className:"max-w-4xl mx-auto",children:[(0,b.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsx)(e.Search,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),(0,b.jsx)(l.Input,{type:"text",value:t,onChange:a=>u(a.target.value),placeholder:"Search properties, cars, land...",className:"pl-10 pr-10 h-12 text-lg"}),t&&(0,b.jsx)(i.Button,{type:"button",variant:"ghost",size:"sm",onClick:J,className:"absolute right-2 top-2 h-8 w-8 p-0",children:(0,b.jsx)(h.X,{className:"h-4 w-4"})})]}),(0,b.jsx)(i.Button,{type:"submit",className:"h-12 px-8 bg-red-600 hover:bg-red-700",children:"Search"})]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,b.jsxs)(m.Select,{value:z,onValueChange:A,children:[(0,b.jsx)(m.SelectTrigger,{className:"w-full sm:w-64",children:(0,b.jsx)(m.SelectValue,{placeholder:"Category"})}),(0,b.jsx)(m.SelectContent,{children:H.map(a=>(0,b.jsx)(m.SelectItem,{value:a.value,children:a.label},a.value))})]}),(0,b.jsxs)(m.Select,{value:B,onValueChange:C,children:[(0,b.jsx)(m.SelectTrigger,{className:"w-full sm:w-48",children:(0,b.jsx)(m.SelectValue,{placeholder:"Sort by"})}),(0,b.jsxs)(m.SelectContent,{children:[(0,b.jsx)(m.SelectItem,{value:"created_at",children:"Newest First"}),(0,b.jsx)(m.SelectItem,{value:"price",children:"Price: Low to High"}),(0,b.jsx)(m.SelectItem,{value:"views",children:"Most Viewed"}),(0,b.jsx)(m.SelectItem,{value:"likes",children:"Most Liked"})]})]})]})]})]})}),(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,b.jsx)("div",{className:"py-6",children:(0,b.jsx)(o.HomepageLeaderboard,{})})}),(0,b.jsxs)("section",{className:"py-8",children:[(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:x?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),(0,b.jsx)("p",{className:"mt-4 text-gray-600",children:"Searching..."})]}):F?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsxs)("p",{className:"text-gray-600",children:[D>0?`Found ${D} result${1!==D?"s":""}`:"No results found",t&&` for "${t}"`,"all"!==z&&` in ${H.find(a=>a.value===z)?.label}`]})}),0===v.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"text-gray-400 text-6xl mb-4",children:"ðŸ”"}),(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No listings found"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:"Try adjusting your search terms or filters"}),(0,b.jsx)(i.Button,{onClick:J,variant:"outline",children:"Clear Search"})]}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(a=>{let c,d;return(0,b.jsxs)(j.Card,{className:"hover:shadow-lg transition-shadow group",children:[(0,b.jsxs)(j.CardHeader,{className:"pb-3",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)(n.Badge,{className:`${(a=>{switch(a){case"houses":return"bg-blue-100 text-blue-800";case"cars":return"bg-green-100 text-green-800";case"land":return"bg-yellow-100 text-yellow-800";default:return"bg-purple-100 text-purple-800"}})(a.category)} border-0`,children:[(a=>{switch(a){case"houses":return"ðŸ ";case"cars":return"ðŸš—";case"land":return"ðŸŒ³";default:return"ðŸ“¦"}})(a.category)," ",a.category]}),(0,b.jsxs)("div",{className:"flex gap-1",children:[a.featured&&(0,b.jsx)(n.Badge,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"â­ Featured"}),a.promoted&&(0,b.jsx)(n.Badge,{variant:"secondary",className:"bg-red-100 text-red-800",children:"ðŸš€ Promoted"})]})]}),(0,b.jsx)(j.CardTitle,{className:"text-lg line-clamp-2",children:a.title})]}),(0,b.jsxs)(j.CardContent,{children:[a.media&&a.media.length>0&&(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsx)("img",{src:a.media[0].url,alt:a.title,className:"w-full h-48 object-cover rounded-lg"})}),(0,b.jsxs)("div",{className:"text-2xl font-bold text-red-600 mb-3",children:[(c=a.price,d=a.currency,new Intl.NumberFormat("en-RW",{style:"currency",currency:"RWF"===d?"RWF":"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(c)),"negotiable"===a.price_type&&(0,b.jsx)("span",{className:"text-sm text-gray-500 ml-2",children:"(Negotiable)"})]}),(0,b.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:a.description}),(0,b.jsx)(s.default,{category:a.category,listing:a,className:"mb-3"}),a.location&&"object"==typeof a.location&&(0,b.jsxs)("div",{className:"flex items-center text-gray-500 text-sm mb-3",children:[(0,b.jsx)(f.MapPin,{className:"h-4 w-4 mr-1"}),a.location?.district||"Location not specified"]}),(0,b.jsx)(k.default,{className:"mb-4"}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(r.default,{listingId:a.id,viewsCount:a.views||0,className:"text-xs"}),(0,b.jsx)(q.default,{listingId:a.id,likesCount:a.likes||0,className:"text-xs"})]}),(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(g.Calendar,{className:"h-4 w-4"}),new Date(a.created_at).toLocaleDateString()]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Listed by"}),(0,b.jsx)("p",{className:"font-medium text-gray-900",children:a.seller?.full_name||"Anonymous"})]}),(0,b.jsx)(i.Button,{asChild:!0,children:(0,b.jsx)("a",{href:`/listings/${a.category}/${a.id}`,children:"View Details"})})]})]})]},a.id)})})]}):(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"text-gray-400 text-6xl mb-4",children:"ðŸ”"}),(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Start Your Search"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Enter a search term or select a category to find listings"})]})}),(0,b.jsx)("div",{className:"hidden lg:block",children:(0,b.jsx)("div",{className:"ml-6",children:(0,b.jsx)(o.HomepageSidebar,{})})})]})]})}a.s(["default",()=>t])}];

//# sourceMappingURL=_de093217._.js.map