module.exports=[8631,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(24669),e=a.i(77156),f=a.i(65910),g=a.i(39761),h=a.i(69012),i=a.i(87532),j=a.i(24569),k=a.i(8549),l=a.i(25015),m=a.i(81560),n=a.i(15618),o=a.i(73320),p=a.i(33508),q=a.i(99570),r=a.i(91119),s=a.i(10849);function t(){let[a,t]=(0,c.useState)([]),[u,v]=(0,c.useState)([]),[w,x]=(0,c.useState)(null),[y,z]=(0,c.useState)("all"),[A,B]=(0,c.useState)(""),[C,D]=(0,c.useState)(!0),[E,F]=(0,c.useState)(!1),[G,H]=(0,c.useState)(!1),[I,J]=(0,c.useState)(!1),[K,L]=(0,c.useState)(null),[M,N]=(0,c.useState)(0),[O,P]=(0,c.useState)(!1),[Q,R]=(0,c.useState)({title:"",ad_type:"banner",budget_total:0,start_date:"",end_date:"",target_audience:"",landing_page:"",creative_url:"",user_name:"Admin User",user_email:"admin@ikazeproperty.rw"}),S=async()=>{try{let{data:a,error:b}=await s.supabaseAdmin.from("ad_campaigns").select("*").order("created_at",{ascending:!1});b?(console.error("Error fetching campaigns:",b),t([])):(t(a||[]),v(a||[]))}catch(a){console.error("Error fetching campaigns:",a),t([])}finally{D(!1)}};(0,c.useEffect)(()=>{S()},[]),(0,c.useEffect)(()=>{let b=a;"all"!==y&&(b=b.filter(a=>a.status===y)),A&&(b=b.filter(a=>a.title.toLowerCase().includes(A.toLowerCase()))),v(b)},[a,y,A]);let T=a=>{switch(a){case"active":return"bg-green-100 text-green-800";case"paused":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-blue-100 text-blue-800";case"pending":return"bg-orange-100 text-orange-800";case"draft":default:return"bg-gray-100 text-gray-800";case"rejected":return"bg-red-100 text-red-800"}},U=async a=>{try{let{error:b}=await s.supabaseAdmin.from("ad_campaigns").update({status:"paused"}).eq("id",a);b?(console.error("Error pausing campaign:",b),alert("Failed to pause campaign")):S()}catch(a){console.error("Error pausing campaign:",a),alert("Failed to pause campaign")}},V=async()=>{if(!Q.title||!Q.budget_total||!Q.start_date||!Q.end_date)return void alert("Please fill in all required fields");try{let{data:a,error:b}=await s.supabaseAdmin.from("ad_campaigns").insert({title:Q.title,ad_type:Q.ad_type,status:"draft",budget_total:Q.budget_total,start_date:Q.start_date,end_date:Q.end_date,description:"sponsored"===Q.ad_type?"Sponsored campaign created by admin":`${Q.ad_type} campaign created by admin`,primary_image_url:Q.creative_url,media_urls:Q.creative_url?[Q.creative_url]:[],cta_text:"Learn More",cta_link:Q.landing_page||"#",target_audience:Q.target_audience?{description:Q.target_audience}:null}).select().single();if(b){console.error("Error creating campaign:",b),alert("Failed to create campaign");return}S(),F(!1),R({title:"",ad_type:"banner",budget_total:0,start_date:"",end_date:"",target_audience:"",landing_page:"",creative_url:"",user_name:"Admin User",user_email:"admin@ikazeproperty.rw"}),alert("Campaign created successfully!")}catch(a){console.error("Error creating campaign:",a),alert("Failed to create campaign")}},W=async a=>{let b=a.target.files?.[0];if(b){P(!0),N(0);try{let a=new FormData;a.append("file",b),a.append("folder","ads");let c=await fetch("/api/upload",{method:"POST",body:a}),d=await c.json();if(d.success&&d.data?.url)R(a=>({...a,creative_url:d.data.url})),N(100);else throw Error(d.error||"Upload failed")}catch(a){console.error("Error uploading file:",a),alert("Failed to upload image. Please try again.")}finally{P(!1)}}},X=async a=>{if(confirm("Are you sure you want to delete this campaign?"))try{let{error:b}=await s.supabaseAdmin.from("ad_campaigns").delete().eq("id",a);b?(console.error("Error deleting campaign:",b),alert("Failed to delete campaign")):S()}catch(a){console.error("Error deleting campaign:",a),alert("Failed to delete campaign")}},Y=async()=>{if(K)try{let{error:a}=await s.supabaseAdmin.from("ad_campaigns").update({title:K.title,ad_type:K.ad_type,budget_total:K.budget_total,start_date:K.start_date,end_date:K.end_date,description:K.description,primary_image_url:K.primary_image_url,media_urls:K.media_urls,cta_text:K.cta_text,cta_link:K.cta_link,target_audience:K.target_audience}).eq("id",K.id);a?(console.error("Error updating campaign:",a),alert("Failed to update campaign")):(S(),J(!1),L(null),alert("Campaign updated successfully!"))}catch(a){console.error("Error updating campaign:",a),alert("Failed to update campaign")}},Z=async a=>{try{let{error:b}=await s.supabaseAdmin.from("ad_campaigns").update({status:"active"}).eq("id",a);b?(console.error("Error resuming campaign:",b),alert("Failed to resume campaign")):S()}catch(a){console.error("Error resuming campaign:",a),alert("Failed to resume campaign")}};return C?(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Loading ad campaigns..."})]})}):(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50 no-overflow-x",children:[(0,b.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-6",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 h-14 sm:h-16",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Admin Ad Management"}),(0,b.jsx)("p",{className:"text-xs sm:text-sm text-gray-600",children:"Manage all advertising campaigns"})]}),(0,b.jsxs)(q.Button,{onClick:()=>F(!0),className:"bg-red-600 hover:bg-red-700 touch-target",children:[(0,b.jsx)(n.Plus,{className:"h-4 w-4 mr-2"}),"Create New Ad"]})]})})}),(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-6 py-4 sm:py-8",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6 mb-6 sm:mb-8",children:[(0,b.jsx)(r.Card,{children:(0,b.jsx)(r.CardContent,{className:"p-3 sm:p-6",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-2 sm:mr-3",children:(0,b.jsx)(e.Eye,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Impressions"}),(0,b.jsx)("p",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:a.reduce((a,b)=>a+b.impressions,0).toLocaleString()})]})]})})}),(0,b.jsx)(r.Card,{children:(0,b.jsx)(r.CardContent,{className:"p-3 sm:p-6",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-green-100 rounded-lg flex items-center justify-center mr-2 sm:mr-3",children:(0,b.jsx)(f.MousePointer,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Clicks"}),(0,b.jsx)("p",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:a.reduce((a,b)=>a+b.clicks,0).toLocaleString()})]})]})})}),(0,b.jsx)(r.Card,{children:(0,b.jsx)(r.CardContent,{className:"p-3 sm:p-6",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-purple-100 rounded-lg flex items-center justify-center mr-2 sm:mr-3",children:(0,b.jsx)(d.TrendingUp,{className:"h-4 w-4 sm:h-5 sm:w-5 text-purple-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Revenue"}),(0,b.jsxs)("p",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:["RWF ",a.reduce((a,b)=>a+b.spent_amount,0).toLocaleString()]})]})]})})}),(0,b.jsx)(r.Card,{children:(0,b.jsx)(r.CardContent,{className:"p-3 sm:p-6",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-red-100 rounded-lg flex items-center justify-center mr-2 sm:mr-3",children:(0,b.jsx)(g.BarChart3,{className:"h-4 w-4 sm:h-5 sm:w-5 text-red-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Active Campaigns"}),(0,b.jsx)("p",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:a.filter(a=>"active"===a.status).length})]})]})})})]}),(0,b.jsx)(r.Card,{className:"mb-8",children:(0,b.jsx)(r.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)(h.Filter,{className:"h-4 w-4 text-gray-500 mr-2"}),(0,b.jsxs)("select",{value:y,onChange:a=>z(a.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent","aria-label":"Filter by status",title:"Filter campaigns by status",children:[(0,b.jsx)("option",{value:"all",children:"All Status"}),(0,b.jsx)("option",{value:"pending",children:"Pending"}),(0,b.jsx)("option",{value:"active",children:"Active"}),(0,b.jsx)("option",{value:"paused",children:"Paused"}),(0,b.jsx)("option",{value:"completed",children:"Completed"}),(0,b.jsx)("option",{value:"rejected",children:"Rejected"})]})]}),(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsx)(i.Search,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search campaigns...",value:A,onChange:a=>B(a.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})]})})}),(0,b.jsxs)(r.Card,{children:[(0,b.jsx)(r.CardHeader,{children:(0,b.jsxs)(r.CardTitle,{children:["All Campaigns (",u.length,")"]})}),(0,b.jsx)(r.CardContent,{children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b",children:[(0,b.jsx)("th",{className:"text-left py-3 px-2 sm:px-4 font-semibold text-gray-900 text-xs sm:text-sm",children:"Campaign"}),(0,b.jsx)("th",{className:"text-left py-3 px-2 sm:px-4 font-semibold text-gray-900 text-xs sm:text-sm",children:"Advertiser"}),(0,b.jsx)("th",{className:"text-left py-3 px-2 sm:px-4 font-semibold text-gray-900 text-xs sm:text-sm",children:"Type"}),(0,b.jsx)("th",{className:"text-left py-3 px-2 sm:px-4 font-semibold text-gray-900 text-xs sm:text-sm",children:"Status"}),(0,b.jsx)("th",{className:"text-left py-3 px-2 sm:px-4 font-semibold text-gray-900 text-xs sm:text-sm",children:"Performance"}),(0,b.jsx)("th",{className:"text-left py-3 px-2 sm:px-4 font-semibold text-gray-900 text-xs sm:text-sm",children:"Budget"}),(0,b.jsx)("th",{className:"text-left py-3 px-2 sm:px-4 font-semibold text-gray-900 text-xs sm:text-sm",children:"Duration"}),(0,b.jsx)("th",{className:"text-left py-3 px-2 sm:px-4 font-semibold text-gray-900 text-xs sm:text-sm",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:u.map(a=>{let c,d;return(0,b.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"py-3 sm:py-4 px-2 sm:px-4",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-semibold text-gray-900 text-sm sm:text-base line-clamp-1",children:a.title}),(0,b.jsxs)("div",{className:"text-xs sm:text-sm text-gray-600",children:["Created ",new Date(a.created_at).toLocaleDateString()]})]})}),(0,b.jsx)("td",{className:"py-4 px-4",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-gray-900",children:"Campaign Owner"}),(0,b.jsxs)("div",{className:"text-sm text-gray-600",children:["ID: ",a.user_id]})]})}),(0,b.jsx)("td",{className:"py-3 sm:py-4 px-2 sm:px-4",children:(0,b.jsx)("span",{className:"text-xs sm:text-sm font-medium text-gray-900 capitalize",children:a.ad_type.replace("_"," ")})}),(0,b.jsxs)("td",{className:"py-3 sm:py-4 px-2 sm:px-4",children:[(0,b.jsx)("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${T(a.status)}`,children:a.status.toUpperCase()}),a.rejection_reason&&(0,b.jsx)("div",{className:"text-xs sm:text-sm text-red-600 mt-1 max-w-[150px] sm:max-w-none",children:a.rejection_reason})]}),(0,b.jsx)("td",{className:"py-3 sm:py-4 px-2 sm:px-4",children:(0,b.jsxs)("div",{className:"text-xs sm:text-sm",children:[(0,b.jsxs)("div",{children:[a.impressions.toLocaleString()," impressions"]}),(0,b.jsxs)("div",{children:[a.clicks," clicks"]}),(0,b.jsxs)("div",{className:"font-semibold text-red-600",children:[(c=a.clicks,(d=a.impressions)>0?(c/d*100).toFixed(2):"0.00"),"% CTR"]})]})}),(0,b.jsx)("td",{className:"py-3 sm:py-4 px-2 sm:px-4",children:(0,b.jsxs)("div",{className:"text-xs sm:text-sm",children:[(0,b.jsxs)("div",{children:["RWF ",a.spent_amount.toLocaleString()," spent"]}),(0,b.jsxs)("div",{className:"text-gray-600",children:["of RWF ",a.budget_total.toLocaleString()]})]})}),(0,b.jsx)("td",{className:"py-3 sm:py-4 px-2 sm:px-4",children:(0,b.jsxs)("div",{className:"text-xs sm:text-sm",children:[(0,b.jsx)("div",{children:new Date(a.start_date).toLocaleDateString()}),(0,b.jsxs)("div",{className:"text-gray-600",children:["to ",new Date(a.end_date).toLocaleDateString()]})]})}),(0,b.jsx)("td",{className:"py-3 sm:py-4 px-2 sm:px-4",children:(0,b.jsxs)("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[(0,b.jsx)(q.Button,{variant:"ghost",size:"sm",onClick:()=>{x(a),H(!0)},className:"touch-target p-1","aria-label":"View details",children:(0,b.jsx)(g.BarChart3,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),(0,b.jsx)(q.Button,{variant:"ghost",size:"sm",onClick:()=>{L(a),J(!0)},className:"text-blue-600 hover:text-blue-700 touch-target p-1","aria-label":"Edit campaign",children:(0,b.jsx)(j.Edit,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),"active"===a.status?(0,b.jsx)(q.Button,{variant:"ghost",size:"sm",onClick:()=>U(a.id),className:"touch-target p-1","aria-label":"Pause campaign",children:(0,b.jsx)(k.Pause,{className:"h-3 w-3 sm:h-4 sm:w-4"})}):(0,b.jsx)(q.Button,{variant:"ghost",size:"sm",onClick:()=>Z(a.id),className:"text-green-600 hover:text-green-700 touch-target p-1","aria-label":"Activate campaign",children:(0,b.jsx)(l.Play,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),(0,b.jsx)(q.Button,{variant:"ghost",size:"sm",onClick:()=>X(a.id),className:"text-red-600 hover:text-red-700 touch-target p-1","aria-label":"Delete campaign",children:(0,b.jsx)(m.Trash2,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})})]},a.id)})})]})})})]})]}),E&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-3 sm:p-4 z-50",children:(0,b.jsx)(r.Card,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:(0,b.jsxs)(r.CardContent,{className:"p-4 sm:p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-lg sm:text-xl font-semibold",children:"Create New Ad Campaign"}),(0,b.jsx)("button",{onClick:()=>F(!1),className:"text-gray-400 hover:text-gray-600 touch-target p-1","aria-label":"Close modal",children:(0,b.jsx)(p.X,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Campaign Title *"}),(0,b.jsx)("input",{type:"text",value:Q.title,onChange:a=>R(b=>({...b,title:a.target.value})),placeholder:"Enter campaign title",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ad Type *"}),(0,b.jsxs)("select",{value:Q.ad_type,onChange:a=>R(b=>({...b,ad_type:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500","aria-label":"Select ad type",children:[(0,b.jsx)("option",{value:"banner",children:"Banner Ad"}),(0,b.jsx)("option",{value:"sponsored",children:"Sponsored Content"}),(0,b.jsx)("option",{value:"premium_listing",children:"Premium Listing"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget (RWF) *"}),(0,b.jsx)("input",{type:"number",value:Q.budget_total,onChange:a=>R(b=>({...b,budget_total:parseInt(a.target.value)||0})),placeholder:"Enter budget amount",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Audience"}),(0,b.jsx)("input",{type:"text",value:Q.target_audience,onChange:a=>R(b=>({...b,target_audience:a.target.value})),placeholder:"e.g., Property buyers, 25-45 age",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date *"}),(0,b.jsx)("input",{type:"date",value:Q.start_date,onChange:a=>R(b=>({...b,start_date:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500","aria-label":"Campaign start date",title:"Select campaign start date"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date *"}),(0,b.jsx)("input",{type:"date",value:Q.end_date,onChange:a=>R(b=>({...b,end_date:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500","aria-label":"Campaign end date",title:"Select campaign end date"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Landing Page URL"}),(0,b.jsx)("input",{type:"url",value:Q.landing_page,onChange:a=>R(b=>({...b,landing_page:a.target.value})),placeholder:"https://example.com/landing-page",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ad Creative"}),(0,b.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[(0,b.jsx)("input",{type:"file",accept:"image/*,video/*",onChange:W,className:"hidden",id:"ad-creative-upload"}),(0,b.jsxs)("label",{htmlFor:"ad-creative-upload",className:"cursor-pointer flex flex-col items-center",children:[(0,b.jsx)(o.Upload,{className:"h-8 w-8 text-gray-400 mb-2"}),(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Click to upload ad creative"}),(0,b.jsx)("span",{className:"text-xs text-gray-500 mt-1",children:"Images or videos (max 10MB)"})]}),O&&(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,b.jsx)("div",{className:"bg-red-600 h-2 rounded-full transition-all duration-300",style:{width:`${M}%`},role:"progressbar","aria-valuenow":M,"aria-valuemin":0,"aria-valuemax":100,title:`Upload progress: ${M}%`})}),(0,b.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:["Uploading... ",M,"%"]})]}),Q.creative_url&&(0,b.jsx)("div",{className:"mt-4 text-sm text-green-600",children:"âœ“ File uploaded successfully"})]})]}),(0,b.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,b.jsx)(q.Button,{variant:"outline",onClick:()=>F(!1),className:"flex-1",children:"Cancel"}),(0,b.jsx)(q.Button,{onClick:V,className:"flex-1 bg-red-600 hover:bg-red-700",children:"Create Campaign"})]})]})]})})}),G&&w&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-3 sm:p-4 z-50",children:(0,b.jsx)(r.Card,{className:"w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:(0,b.jsxs)(r.CardContent,{className:"p-4 sm:p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h3",{className:"text-lg sm:text-xl font-semibold",children:"Campaign Details"}),(0,b.jsx)("button",{onClick:()=>H(!1),className:"text-gray-400 hover:text-gray-600 touch-target p-1","aria-label":"Close modal",children:(0,b.jsx)(p.X,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Campaign Information"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Title:"})," ",w.title]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Type:"})," ",w.ad_type]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Status:"})," ",(0,b.jsx)("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${T(w.status)}`,children:w.status.toUpperCase()})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Created:"})," ",new Date(w.created_at).toLocaleDateString()]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Owner ID:"})," ",w.user_id]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Budget & Performance"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Total Budget:"})," RWF ",w.budget_total.toLocaleString()]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Spent:"})," RWF ",w.spent_amount.toLocaleString()]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Remaining:"})," RWF ",(w.budget_total-w.spent_amount).toLocaleString()]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Start Date:"})," ",new Date(w.start_date).toLocaleDateString()]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"End Date:"})," ",new Date(w.end_date).toLocaleDateString()]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Performance Metrics"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Impressions:"})," ",w.impressions.toLocaleString()]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Clicks:"})," ",w.clicks.toLocaleString()]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Conversions:"})," ",w.conversions.toLocaleString()]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"CTR:"})," ",w.ctr,"%"]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"CPC:"})," RWF ",w.clicks>0?(w.spent_amount/w.clicks).toFixed(2):"0.00"]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Campaign Details"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Owner ID:"})," ",w.user_id]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"CTA Text:"})," ",w.cta_text||"N/A"]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"CTA Link:"})," ",w.cta_link||"N/A"]})]})]})]})]})]})})}),I&&K&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-3 sm:p-4 z-50",children:(0,b.jsx)(r.Card,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:(0,b.jsxs)(r.CardContent,{className:"p-4 sm:p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-lg sm:text-xl font-semibold",children:"Edit Ad Campaign"}),(0,b.jsx)("button",{onClick:()=>{J(!1),L(null)},className:"text-gray-400 hover:text-gray-600 touch-target p-1","aria-label":"Close modal",children:(0,b.jsx)(p.X,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Campaign Title *"}),(0,b.jsx)("input",{type:"text",value:K.title,onChange:a=>L(b=>b?{...b,title:a.target.value}:null),placeholder:"Enter campaign title",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ad Type *"}),(0,b.jsxs)("select",{value:K.ad_type,onChange:a=>L(b=>b?{...b,ad_type:a.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500","aria-label":"Select ad type",children:[(0,b.jsx)("option",{value:"banner",children:"Banner Ad"}),(0,b.jsx)("option",{value:"sponsored",children:"Sponsored Content"}),(0,b.jsx)("option",{value:"premium_listing",children:"Premium Listing"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget (RWF) *"}),(0,b.jsx)("input",{type:"number",value:K.budget_total,onChange:a=>L(b=>b?{...b,budget_total:parseInt(a.target.value)||0}:null),placeholder:"Enter budget amount",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,b.jsxs)("select",{value:K.status,onChange:a=>L(b=>b?{...b,status:a.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500","aria-label":"Select campaign status",children:[(0,b.jsx)("option",{value:"draft",children:"Draft"}),(0,b.jsx)("option",{value:"active",children:"Active"}),(0,b.jsx)("option",{value:"paused",children:"Paused"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date *"}),(0,b.jsx)("input",{type:"date",value:K.start_date,onChange:a=>L(b=>b?{...b,start_date:a.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500","aria-label":"Campaign start date",title:"Select campaign start date"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date *"}),(0,b.jsx)("input",{type:"date",value:K.end_date,onChange:a=>L(b=>b?{...b,end_date:a.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500","aria-label":"Campaign end date",title:"Select campaign end date"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:K.description||"",onChange:a=>L(b=>b?{...b,description:a.target.value}:null),placeholder:"Enter campaign description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Landing Page URL"}),(0,b.jsx)("input",{type:"url",value:K.cta_link||"",onChange:a=>L(b=>b?{...b,cta_link:a.target.value}:null),placeholder:"https://example.com/landing-page",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500"})]}),(0,b.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,b.jsx)(q.Button,{variant:"outline",onClick:()=>{J(!1),L(null)},className:"flex-1",children:"Cancel"}),(0,b.jsx)(q.Button,{onClick:Y,className:"flex-1 bg-red-600 hover:bg-red-700",children:"Update Campaign"})]})]})]})})})]})}a.s(["default",()=>t])}];

//# sourceMappingURL=src_app_%5Blocale%5D_admin_ads_page_tsx_d51bda17._.js.map