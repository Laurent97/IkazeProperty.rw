module.exports=[16550,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(210),f=a.i(24987),g=a.i(46842),h=a.i(99570),i=a.i(91119),j=a.i(86304),k=a.i(68982),l=a.i(35800),m=a.i(63588),n=a.i(92e3),o=a.i(16201),p=a.i(11642);function q({listingId:d,sellerId:e,title:f,className:g=""}){let{user:j,isLoading:k}=(0,p.useAuth)(),[l,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(""),[x,y]=(0,c.useState)(!1),z=async b=>{b.preventDefault(),u(!0),w("");try{if(!j){window.location.href="/auth/login";return}let{supabaseClient:b}=await a.A(53215),{data:{session:c}}=await b.auth.getSession();if(!c?.access_token){w("Authentication session expired. Please log in again."),window.location.href="/auth/login";return}let e=await fetch("/api/inquiries",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c.access_token}`},body:JSON.stringify({listing_id:d,message:r.trim()})}),f=await e.json();if(!e.ok)throw Error(f.error||"Failed to submit inquiry");y(!0),s(""),setTimeout(()=>{q(!1),y(!1)},3e3)}catch(a){w(a.message||"Failed to submit inquiry")}finally{u(!1)}};return l?(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,b.jsx)(i.Card,{className:"w-full max-w-md",children:(0,b.jsxs)(i.CardContent,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Express Interest"}),(0,b.jsx)("button",{onClick:()=>q(!1),className:"text-gray-400 hover:text-gray-600",children:"Ã—"})]}),(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["Listing: ",(0,b.jsx)("strong",{children:f})]})}),x?(0,b.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-center",children:[(0,b.jsx)(o.CheckCircle,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),(0,b.jsx)("h4",{className:"font-semibold text-green-800 mb-1",children:"Inquiry Submitted!"}),(0,b.jsx)("p",{className:"text-sm text-green-700",children:"Your inquiry has been sent for admin review. You'll be notified once it's approved."})]}):(0,b.jsxs)("form",{onSubmit:z,className:"space-y-4",children:[v&&(0,b.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-center",children:[(0,b.jsx)(n.AlertCircle,{className:"h-4 w-4 text-red-600 mr-2"}),(0,b.jsx)("span",{className:"text-red-800 text-sm",children:v})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Message *"}),(0,b.jsx)("textarea",{value:r,onChange:a=>s(a.target.value),placeholder:"Introduce yourself and express your interest in this listing...",rows:4,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),(0,b.jsxs)("div",{className:"flex space-x-3",children:[(0,b.jsx)(h.Button,{type:"button",variant:"outline",onClick:()=>q(!1),className:"flex-1 border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,b.jsx)(h.Button,{type:"submit",disabled:t||!r.trim(),className:"flex-1 bg-red-600 hover:bg-red-700",children:t?"Submitting...":"Submit Inquiry"})]})]})]})})}):(0,b.jsxs)(h.Button,{onClick:()=>{if(!j){window.location.href="/auth/login";return}q(!0)},disabled:k,className:`bg-red-600 hover:bg-red-700 ${g}`,children:[(0,b.jsx)(m.MessageSquare,{className:"h-4 w-4 mr-2"}),k?"Loading...":j?"Express Interest":"Login to Inquire"]})}var r=a.i(20997);function s(){let m=(0,d.useRouter)(),n=(0,d.useParams)(),{category:o,id:p}=n;console.log("ðŸ” Route params:",n),console.log("Raw ID:",p,"Type:",typeof p,'Is string "undefined":',"undefined"===p),p&&"undefined"!==p&&"null"!==p||(console.error("âŒ Invalid ID provided:",p),(0,d.notFound)());let{paymentSettings:s}=(0,r.usePaymentContext)(),[t,u]=(0,c.useState)(null),[v,w]=(0,c.useState)([]),[x,y]=(0,c.useState)(!0),[z,A]=(0,c.useState)(0),[B,C]=(0,c.useState)([]),[D,E]=(0,c.useState)(""),[F,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)("mtn_momo"),[J,K]=(0,c.useState)(!1),[L,M]=(0,c.useState)(""),[N,O]=(0,c.useState)(""),[P,Q]=(0,c.useState)(null),[R,S]=(0,c.useState)(null),[T,U]=(0,c.useState)("details"),[V,W]=(0,c.useState)([]),[X]=(0,c.useState)(15e3),Y=async b=>{try{let{supabaseClient:c}=await a.A(53215),{data:d,error:e}=await c.from("listings").select(`
          id,
          title,
          price,
          currency,
          location,
          transaction_type,
          price_type,
          media:listing_media(
            url,
            media_type
          ).order('is_primary', { ascending: false }).limit(1)
        `).eq("category",b.category).eq("status","available").neq("id",b.id).limit(6).order("created_at",{ascending:!1});e?console.error("Error fetching similar listings:",e):C(d||[])}catch(a){console.error("Error fetching similar listings:",a)}};if((0,c.useEffect)(()=>{let b=!0;return(async()=>{if(console.log("ðŸ” fetchListing called with id:",p,typeof p),!p||"undefined"===p||"null"===p){console.log("âš ï¸ Invalid ID provided, returning early"),b&&(y(!1),E("Invalid listing ID"));return}y(!0),E("");try{let{supabaseClient:c}=await a.A(53215);console.log("ðŸ“‹ Fetching listing with ID:",p);let{data:d,error:e}=await c.from("listings").select(`
            *,
            seller:users!listings_seller_id_fkey(
              id,
              full_name,
              email,
              avatar_url
            ),
            listing_media(
              id,
              url,
              public_id,
              media_type,
              order_index,
              is_primary
            ),
            house_details(
              id,
              listing_id,
              property_type,
              bedrooms,
              bathrooms,
              total_area,
              year_built,
              condition,
              furnished,
              parking,
              features,
              utilities_included,
              rent_duration,
              security_deposit,
              advance_payment,
              minimum_lease_period,
              available_from
            ),
            car_details(
              id,
              listing_id,
              vehicle_type,
              make,
              model,
              year_manufacture,
              condition,
              fuel_type,
              transmission,
              engine_capacity,
              mileage,
              color,
              doors,
              seats,
              features,
              ownership_papers,
              insurance_status,
              road_worthiness,
              last_service_date,
              rental_daily_rate,
              rental_weekly_rate,
              rental_monthly_rate,
              security_deposit,
              minimum_rental_period,
              delivery_option,
              driver_included
            ),
            land_details(
              id,
              listing_id,
              plot_type,
              plot_size,
              size_unit,
              shape,
              topography,
              soil_type,
              road_access,
              fenced,
              utilities_available,
              land_title_type,
              title_deed_number,
              surveyed,
              zoning_approval,
              development_permits,
              tax_clearance,
              nearest_main_road_distance,
              nearest_town_distance,
              nearby_amenities
            ),
            other_item_details(
              id,
              listing_id,
              subcategory,
              brand,
              model,
              condition,
              warranty_available,
              warranty_period,
              reason_for_selling,
              original_purchase_date,
              age_of_item
            )
          `).eq("id",p).single();if(e||!d||(console.log("ðŸ“‹ Full listing data:",d),console.log("ðŸš— Car details in listing:",d.car_details),console.log("ðŸ  House details in listing:",d.house_details),console.log("ðŸŒ³ Land details in listing:",d.land_details),d.category!==o)){b&&(E("Listing not found"),y(!1));return}let{data:f,error:g}=await c.from("listing_media").select("*").eq("listing_id",p).order("order_index",{ascending:!0});console.log("ðŸ“¸ Media query result:",{listingId:p,mediaData:f,mediaError:g,mediaCount:f?.length||0}),b&&(u(d),w(f||[]),A(0),y(!1)),d&&Y(d)}catch(a){console.error("Error fetching listing:",a),b&&(E("Listing not found"),y(!1))}})(),()=>{b=!1}},[o,p]),x)return(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 no-overflow-x",children:(0,b.jsx)("div",{className:"max-w-5xl mx-auto px-3 sm:px-4 lg:px-6 lg:px-8 py-4 sm:py-8",children:(0,b.jsx)("p",{className:"text-gray-600 text-sm sm:text-base",children:"Loading listing..."})})});if(D||!t)return(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50 no-overflow-x",children:[(0,b.jsxs)("div",{className:"max-w-5xl mx-auto px-3 sm:px-4 lg:px-6 lg:px-8 py-4 sm:py-8",children:[(0,b.jsxs)(h.Button,{variant:"outline",onClick:()=>m.back(),className:"touch-target",children:[(0,b.jsx)(e.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,b.jsx)("div",{className:"mt-4 sm:mt-6 text-gray-700 text-sm sm:text-base",children:D||"Listing not found"})]}),B.length>0&&(0,b.jsx)("div",{className:"mt-12",children:(0,b.jsxs)(i.Card,{children:[(0,b.jsx)(i.CardHeader,{children:(0,b.jsx)(i.CardTitle,{children:"Similar Items You Might Like"})}),(0,b.jsx)(i.CardContent,{children:(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:B.map(a=>{let c;return(0,b.jsx)(i.Card,{className:"hover:shadow-lg transition-shadow cursor-pointer touch-target",children:(0,b.jsxs)(i.CardContent,{className:"p-3 sm:p-4",children:[(0,b.jsx)("div",{className:"relative",children:a.media&&a.media.length>0?(0,b.jsx)("img",{src:a.media[0].url,alt:a.title,className:"w-full h-24 sm:h-28 md:h-32 object-cover rounded-lg"}):(0,b.jsxs)("div",{className:"w-full h-24 sm:h-28 md:h-32 bg-gray-200 rounded-lg flex items-center justify-center",children:[(0,b.jsx)("div",{className:"text-gray-400 text-2xl sm:text-3xl mb-1 sm:mb-2",children:"ðŸ“·"}),(0,b.jsx)("p",{className:"text-gray-500 text-xs sm:text-sm",children:"No media available"})]})}),(0,b.jsxs)("div",{className:"mt-2 sm:mt-3",children:[(0,b.jsx)("h4",{className:"text-sm sm:text-base lg:text-lg font-semibold text-gray-900 mb-1 line-clamp-1",children:a.title}),(0,b.jsxs)("div",{className:"text-base sm:text-lg lg:text-xl font-bold text-red-600 mb-1 sm:mb-2",children:[a.currency," ",a.price?.toLocaleString()]}),(0,b.jsxs)("div",{className:"text-xs sm:text-sm text-gray-600 capitalize",children:[a.transaction_type," â€¢ ",a.price_type]}),(0,b.jsxs)("div",{className:"flex items-center text-xs sm:text-sm text-gray-500 mt-1",children:[(0,b.jsx)(f.MapPin,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),(console.log("ðŸ“ Similar listing location:",c=a.location),c)?"string"==typeof c?c:"object"==typeof c&&null!==c&&(c.district||c.sector||c.province)||"Location not specified":"Location not specified"]})]})]})},a.id)})})})]})})]});v.find(a=>a.is_primary)||v[0];let Z=t.price?.toLocaleString()||"0",$=t.location,_=a=>"string"==typeof a?a:"object"==typeof a&&null!==a?Object.values(a).filter(Boolean).join(", "):"",aa=a=>!a||a.length<4?a:a.slice(0,3)+"*".repeat(a.length-4)+a.slice(-2),ab=t.visit_fee_payment_methods||{},ac=async()=>{try{let a=await fetch("/api/payments/methods"),b=await a.json();if(a.ok&&b?.methods){let a=b.methods.filter(a=>a.isActive).map(a=>a.id);W(a),a.length>0&&I(a[0])}}catch(a){console.error("Error loading payment methods:",a)}},ad=async()=>{K(!0),M(""),O("");try{let{supabaseClient:b}=await a.A(53215),{data:{session:c}}=await b.auth.getSession();if(!c?.access_token)return void M("Please login to request a visit");let d={listing_id:t.id,payment_method:H,visit_fee:X};if("mtn_momo"===H?(d.phone_number=s?.mobile_money_details?.mtn?.phone_number||"",d.account_name=s?.mobile_money_details?.mtn?.account_name||"",d.merchant_id=s?.mobile_money_details?.mtn?.merchant_id||""):"airtel_money"===H?(d.phone_number=s?.mobile_money_details?.airtel?.phone_number||"",d.account_name=s?.mobile_money_details?.airtel?.account_name||"",d.merchant_id=s?.mobile_money_details?.airtel?.merchant_id||""):"equity_bank"===H?(d.bank_name=s?.bank_details?.bank_name||"",d.account_name=s?.bank_details?.account_name||"",d.account_number=s?.bank_details?.account_number||"",d.branch_code=s?.bank_details?.branch_code||""):"crypto"===H&&(d.crypto_type="bitcoin",d.wallet_address=""),P){let a=new FormData;a.append("screenshot",P),d.screenshot=a}if(R){let a=new FormData;a.append("proof",R),d.proof=a}let e=await fetch("/api/visits",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c.access_token}`},body:JSON.stringify(d)}),f=await e.json();if(!e.ok)return void M(f.error||"Failed to request visit");U("proof"),O("Thank you for your payment. Please allow 10-20 minutes for payment confirmation. Once verified, you will receive a call to schedule your visit dates and provide you with the details of the assigned agent who will conduct the property tour."),G(!1)}catch(a){M(a.message||"Failed to request visit")}finally{K(!1)}};return(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsxs)("div",{className:"max-w-5xl mx-auto px-3 sm:px-4 lg:px-6 lg:px-8 py-4 sm:py-8",children:[(0,b.jsxs)(h.Button,{variant:"outline",onClick:()=>m.back(),className:"touch-target",children:[(0,b.jsx)(e.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,b.jsxs)("div",{className:"mt-4 sm:mt-6 grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-4 sm:space-y-6",children:[(0,b.jsx)(i.Card,{children:(0,b.jsx)(i.CardContent,{className:"p-0",children:(0,b.jsx)("div",{className:"relative",children:v.length>0?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"relative group",children:[v[z]?.media_type==="video"?(0,b.jsxs)("div",{className:"relative aspect-video bg-gray-100 rounded-lg overflow-hidden",children:[(0,b.jsx)("video",{src:v[z].url,className:"w-full h-48 sm:h-64 md:h-80 lg:h-96 object-cover",controls:!0,autoPlay:!1}),(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,b.jsx)("div",{className:"w-12 h-12 sm:w-14 sm:h-14 lg:w-16 lg:h-16 bg-white bg-opacity-90 rounded-full flex items-center justify-center",children:(0,b.jsx)("svg",{className:"w-6 h-6 sm:w-7 sm:h-7 lg:w-8 lg:h-8 text-gray-800",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})})})})]}):(0,b.jsx)("img",{src:v[z]?.url,alt:t.title,className:"w-full h-48 sm:h-64 md:h-80 lg:h-96 object-cover rounded-lg"}),v.length>1&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:()=>A(a=>0===a?v.length-1:a-1),className:"absolute left-2 sm:left-4 top-1/2 transform -translate-y-1/2 w-8 h-8 sm:w-10 sm:h-10 bg-white bg-opacity-90 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity shadow-lg touch-target","aria-label":"Previous image",children:(0,b.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,b.jsx)("button",{onClick:()=>A(a=>(a+1)%v.length),className:"absolute right-2 sm:right-4 top-1/2 transform -translate-y-1/2 w-8 h-8 sm:w-10 sm:h-10 bg-white bg-opacity-90 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity shadow-lg touch-target","aria-label":"Next image",children:(0,b.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),v[z]?.is_primary&&(0,b.jsx)(j.Badge,{className:"absolute top-2 sm:top-4 left-2 sm:left-4 bg-red-600 text-white text-xs",children:"Primary"}),v[z]?.media_type==="video"&&(0,b.jsx)(j.Badge,{className:"absolute top-2 sm:top-4 right-2 sm:right-4 bg-blue-600 text-white text-xs",children:"Video"})]}),v.length>1&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-1.5 sm:gap-2 mt-3 sm:mt-4",children:v.map((a,c)=>(0,b.jsxs)("div",{className:`relative group cursor-pointer ${z===c?"ring-2 ring-blue-500 rounded-lg":""}`,onClick:()=>A(c),children:["video"===a.media_type?(0,b.jsxs)("div",{className:"relative aspect-video bg-gray-100 rounded-lg overflow-hidden",children:[(0,b.jsx)("video",{src:a.url,className:"w-full h-full object-cover",muted:!0,onMouseEnter:a=>{let b=a.target;b&&b.play()},onMouseLeave:a=>{let b=a.target;b&&b.pause()}}),(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50",children:(0,b.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})})})]}):(0,b.jsx)("img",{src:a.url,alt:`${t.title} - ${c+1}`,className:"w-full h-14 sm:h-16 md:h-20 object-cover rounded-lg"}),a.is_primary&&(0,b.jsx)("div",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]},a.id))}),(0,b.jsx)("div",{className:"flex justify-center space-x-1.5 sm:space-x-2 mt-3 sm:mt-4",children:v.map((a,c)=>(0,b.jsx)("button",{onClick:()=>A(c),className:`w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full transition-colors touch-target ${z===c?"bg-blue-600":"bg-gray-300 hover:bg-gray-400"}`,"aria-label":`Go to image ${c+1}`},c))})]})]}):(0,b.jsx)("div",{className:"w-full h-48 sm:h-64 md:h-80 lg:h-96 bg-gray-200 rounded-lg flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-gray-400 text-4xl sm:text-5xl md:text-6xl mb-2",children:"ðŸ“·"}),(0,b.jsx)("p",{className:"text-gray-500 text-xs sm:text-sm",children:"No media available"})]})})})})}),(0,b.jsxs)(i.Card,{children:[(0,b.jsx)(i.CardHeader,{children:(0,b.jsx)(i.CardTitle,{children:"Description"})}),(0,b.jsx)(i.CardContent,{children:(0,b.jsx)("p",{className:"text-gray-700 whitespace-pre-line",children:t.description})})]}),(()=>{if(!t)return null;switch(t.category){case"houses":console.log("ðŸ  House details data:",t.house_details),console.log("ðŸ  House details keys:",t.house_details?Object.keys(t.house_details):"null");let a=t.house_details,c=Array.isArray(a)?a[0]:a;if(console.log("ðŸ  Processed house details:",c),!c)return null;return(0,b.jsxs)(i.Card,{children:[(0,b.jsx)(i.CardHeader,{children:(0,b.jsx)(i.CardTitle,{children:"Property Details"})}),(0,b.jsx)(i.CardContent,{children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Property Type"}),(0,b.jsx)("p",{className:"font-medium capitalize",children:c?.property_type||"Not specified"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Condition"}),(0,b.jsx)("p",{className:"font-medium capitalize",children:c?.condition||"Not specified"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Bedrooms"}),(0,b.jsx)("p",{className:"font-medium",children:c?.bedrooms||"Not specified"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Bathrooms"}),(0,b.jsx)("p",{className:"font-medium",children:c?.bathrooms||"Not specified"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Total Area"}),(0,b.jsxs)("p",{className:"font-medium",children:[c?.total_area||"Not specified"," mÂ²"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Year Built"}),(0,b.jsx)("p",{className:"font-medium",children:c?.year_built||"Not specified"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Furnished"}),(0,b.jsx)("p",{className:"font-medium capitalize",children:c?.furnished||"Not specified"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Parking"}),(0,b.jsx)("p",{className:"font-medium capitalize",children:c?.parking||"Not specified"})]})]})})]});case"cars":console.log("ðŸš— Car details data:",t.car_details),console.log("ðŸš— Car details keys:",t.car_details?Object.keys(t.car_details):"null");let d=t.car_details,e=Array.isArray(d)?d[0]:d;if(console.log("ðŸš— Processed car details:",e),!e)return null;return(0,b.jsxs)(i.Card,{children:[(0,b.jsx)(i.CardHeader,{children:(0,b.jsx)(i.CardTitle,{children:"Vehicle Details"})}),(0,b.jsx)(i.CardContent,{children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Vehicle Type"}),(0,b.jsx)("p",{className:"font-medium capitalize",children:e?.vehicle_type||"Not specified"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Condition"}),(0,b.jsx)("p",{className:"font-medium capitalize",children:e?.condition||"Not specified"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Make"}),(0,b.jsx)("p",{className:"font-medium",children:e?.make||"Not specified"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Model"}),(0,b.jsx)("p",{className:"font-medium",children:e?.model||"Not specified"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Year Manufacture"}),(0,b.jsx)("p",{className:"font-medium",children:e?.year_manufacture||"Not specified"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Mileage"}),(0,b.jsxs)("p",{className:"font-medium",children:[e?.mileage||"Not specified"," km"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Fuel Type"}),(0,b.jsx)("p",{className:"font-medium capitalize",children:e?.fuel_type||"Not specified"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Transmission"}),(0,b.jsx)("p",{className:"font-medium capitalize",children:e?.transmission||"Not specified"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Color"}),(0,b.jsx)("p",{className:"font-medium capitalize",children:e?.color||"Not specified"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Doors"}),(0,b.jsx)("p",{className:"font-medium",children:e?.doors||"Not specified"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Seats"}),(0,b.jsx)("p",{className:"font-medium",children:e?.seats||"Not specified"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Engine Capacity"}),(0,b.jsxs)("p",{className:"font-medium",children:[e?.engine_capacity||"Not specified"," cc"]})]})]})})]});case"land":console.log("ðŸŒ³ Land details data:",t.land_details),console.log("ðŸŒ³ Land details keys:",t.land_details?Object.keys(t.land_details):"null");let f=t.land_details,g=Array.isArray(f)?f[0]:f;if(console.log("ðŸŒ³ Processed land details:",g),!g)return null;return(0,b.jsxs)(i.Card,{children:[(0,b.jsx)(i.CardHeader,{children:(0,b.jsx)(i.CardTitle,{children:"Land Details"})}),(0,b.jsx)(i.CardContent,{children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Plot Type"}),(0,b.jsx)("p",{className:"font-medium capitalize",children:g?.plot_type||"Not specified"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Shape"}),(0,b.jsx)("p",{className:"font-medium capitalize",children:g?.shape||"Not specified"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Plot Size"}),(0,b.jsxs)("p",{className:"font-medium",children:[g?.plot_size||"Not specified"," ",g?.size_unit]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Topography"}),(0,b.jsx)("p",{className:"font-medium capitalize",children:g?.topography||"Not specified"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Road Access"}),(0,b.jsx)("p",{className:"font-medium capitalize",children:g?.road_access||"Not specified"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Land Title Type"}),(0,b.jsx)("p",{className:"font-medium capitalize",children:g?.land_title_type||"Not specified"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Fenced"}),(0,b.jsx)("p",{className:"font-medium",children:g?.fenced?"Yes":"No"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Surveyed"}),(0,b.jsx)("p",{className:"font-medium",children:g?.surveyed?"Yes":"No"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Soil Type"}),(0,b.jsx)("p",{className:"font-medium capitalize",children:g?.soil_type||"Not specified"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Zoning Approval"}),(0,b.jsx)("p",{className:"font-medium",children:g?.zoning_approval?"Yes":"No"})]})]})})]});case"other":console.log("ðŸ“¦ Other item details data:",t.other_item_details),console.log("ðŸ“¦ Other item details keys:",t.other_item_details?Object.keys(t.other_item_details):"null");let h=t.other_item_details,j=Array.isArray(h)?h[0]:h;if(console.log("ðŸ“¦ Processed other item details:",j),!j)return null;return(0,b.jsxs)(i.Card,{children:[(0,b.jsx)(i.CardHeader,{children:(0,b.jsx)(i.CardTitle,{children:"Item Details"})}),(0,b.jsx)(i.CardContent,{children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Subcategory"}),(0,b.jsx)("p",{className:"font-medium capitalize",children:j?.subcategory||"Not specified"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Brand"}),(0,b.jsx)("p",{className:"font-medium",children:j?.brand||"Not specified"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Model"}),(0,b.jsx)("p",{className:"font-medium",children:j?.model||"Not specified"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Condition"}),(0,b.jsx)("p",{className:"font-medium capitalize",children:j?.condition||"Not specified"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Warranty Available"}),(0,b.jsx)("p",{className:"font-medium",children:j?.warranty_available?"Yes":"No"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Warranty Period"}),(0,b.jsx)("p",{className:"font-medium",children:j?.warranty_period||"Not specified"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Reason for Selling"}),(0,b.jsx)("p",{className:"font-medium",children:j?.reason_for_selling||"Not specified"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Original Purchase Date"}),(0,b.jsx)("p",{className:"font-medium",children:j?.original_purchase_date||"Not specified"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Age of Item"}),(0,b.jsx)("p",{className:"font-medium",children:j?.age_of_item||"Not specified"})]})]})})]});default:return null}})()]}),(0,b.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,b.jsxs)(i.Card,{children:[(0,b.jsx)(i.CardHeader,{children:(0,b.jsx)(i.CardTitle,{children:t.title})}),(0,b.jsxs)(i.CardContent,{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"text-2xl font-bold text-red-600",children:[t.currency," ",Z]}),(0,b.jsxs)("div",{className:"text-sm text-gray-600 capitalize",children:[t.transaction_type," â€¢ ",t.price_type]}),(0,b.jsxs)("div",{className:"flex items-start text-sm text-gray-700",children:[(0,b.jsx)(f.MapPin,{className:"h-4 w-4 mr-2 mt-0.5 text-gray-500"}),(0,b.jsx)("div",{children:[_($?.address),_($?.sector),_($?.district),_($?.province)].filter(Boolean).join(", ")||"Location not provided"})]})]})]}),(0,b.jsxs)(i.Card,{children:[(0,b.jsx)(i.CardHeader,{children:(0,b.jsx)(i.CardTitle,{children:"For any questions, ideas, or inquiries, reach out to us on this number"})}),(0,b.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:(0,b.jsx)(g.User,{className:"h-5 w-5 text-gray-500"})}),(0,b.jsx)("div",{children:(0,b.jsx)("div",{className:"text-sm font-medium text-gray-900",children:t.seller?.full_name||"Unknown Seller"})})]}),(0,b.jsx)(k.default,{})]})]}),(0,b.jsxs)(i.Card,{children:[(0,b.jsx)(i.CardHeader,{children:(0,b.jsx)(i.CardTitle,{children:"Visit Fee"})}),(0,b.jsxs)(i.CardContent,{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"text-sm text-gray-700",children:["Visit fee: ",(0,b.jsxs)("strong",{children:[t.visit_fee_amount?.toLocaleString()||X.toLocaleString()," RWF"]})]}),(0,b.jsx)("div",{className:"text-xs text-gray-600",children:"Seller receives 70%. Platform keeps 30%."}),(0,b.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 text-xs text-gray-700 space-y-1",children:[ab.mtn_momo?.phone_number&&(0,b.jsxs)("div",{children:["MTN MoMo: ",aa(ab.mtn_momo.phone_number)]}),ab.airtel_money?.phone_number&&(0,b.jsxs)("div",{children:["Airtel Money: ",aa(ab.airtel_money.phone_number)]}),ab.equity_bank?.account_number&&(0,b.jsxs)("div",{children:["Equity: ",ab.equity_bank.account_name||"Account"," â€¢ ",ab.equity_bank.account_number]})]}),(0,b.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,b.jsx)(q,{listingId:t.id,sellerId:t.seller_id||"",title:t.title,className:"w-full"}),(0,b.jsxs)("div",{className:"flex space-x-3",children:[(0,b.jsx)(h.Button,{onClick:()=>{ac(),G(!0)},className:"flex-1 bg-red-600 hover:bg-red-700",children:"Request a Visit"}),(0,b.jsx)(l.default,{listingId:t.id,size:"md",className:"flex-shrink-0"})]})]})]})]})]})]})]}),F&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-3 sm:p-4 z-50",children:(0,b.jsx)(i.Card,{className:"w-full max-w-md",children:(0,b.jsxs)(i.CardContent,{className:"p-4 sm:p-6 space-y-3 sm:space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"text-base sm:text-lg font-semibold",children:"Request a Visit"}),(0,b.jsx)("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-gray-600 touch-target p-1","aria-label":"Close modal",children:"Ã—"})]}),(0,b.jsxs)("div",{className:"text-sm text-gray-700",children:["Visit fee: ",(0,b.jsxs)("strong",{children:[X.toLocaleString()," RWF"]})]}),(0,b.jsx)("div",{className:"text-xs text-gray-600",children:"Seller receives 70%. Platform keeps 30%."}),(0,b.jsx)("div",{className:"space-y-3",children:(0,b.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 text-sm text-gray-700",children:[(0,b.jsx)("h4",{className:"font-medium mb-2",children:"Upload payment proof"}),(0,b.jsx)("input",{id:"payment-proof-upload",type:"file",accept:"image/*",onChange:a=>S(a.target.files?.[0]||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg","aria-label":"Upload payment confirmation",title:"Upload screenshot or photo of payment confirmation"}),R&&(0,b.jsxs)("div",{className:"mt-2 text-xs text-gray-500",children:["Proof: ",R.name,(0,b.jsx)("button",{type:"button",onClick:()=>S(null),className:"ml-2 text-red-500 hover:text-red-700",children:"Remove"})]})]})}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("label",{htmlFor:"payment-method",className:"block text-sm font-medium text-gray-700",children:"Payment Method"}),(0,b.jsx)("select",{id:"payment-method",value:H,onChange:a=>I(a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",title:"Payment Method Selection",children:V.map(a=>(0,b.jsx)("option",{value:a,children:{mtn_momo:"MTN Mobile Money",airtel_money:"Airtel Money",equity_bank:"Equity Bank",crypto:"Cryptocurrency",wallet:"Wallet Balance"}[a]||a},a))}),("mtn_momo"===H||"airtel_money"===H)&&(0,b.jsx)("div",{className:"space-y-3",children:(0,b.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[(0,b.jsxs)("h4",{className:"font-medium text-gray-900 mb-3",children:["mtn_momo"===H?"MTN Mobile Money":"Airtel Money"," Payment Details"]}),(0,b.jsx)("p",{className:"text-xs text-gray-600 mb-3",children:"Send payment to the number below:"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Phone Number:"}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"mtn_momo"===H?s?.mobile_money_details?.mtn?.phone_number||"Not configured":s?.mobile_money_details?.airtel?.phone_number||"Not configured"})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Account Name:"}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"mtn_momo"===H?s?.mobile_money_details?.mtn?.account_name||"Not configured":s?.mobile_money_details?.airtel?.account_name||"Not configured"})]}),("mtn_momo"===H?s?.mobile_money_details?.mtn?.merchant_id:s?.mobile_money_details?.airtel?.merchant_id)&&(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Merchant ID:"}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"mtn_momo"===H?s?.mobile_money_details?.mtn?.merchant_id:s?.mobile_money_details?.airtel?.merchant_id})]})]}),("mtn_momo"===H?s?.mobile_money_details?.mtn?.payment_instructions:s?.mobile_money_details?.airtel?.payment_instructions)&&(0,b.jsxs)("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-blue-800 mb-1",children:"Payment Instructions:"}),(0,b.jsx)("p",{className:"text-sm text-blue-700",children:"mtn_momo"===H?s?.mobile_money_details?.mtn?.payment_instructions:s?.mobile_money_details?.airtel?.payment_instructions})]})]})}),"equity_bank"===H&&(0,b.jsx)("div",{className:"space-y-3",children:(0,b.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[(0,b.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Bank Transfer Details"}),(0,b.jsx)("p",{className:"text-xs text-gray-600 mb-3",children:"Send payment to the account below:"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Bank Name:"}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-900",children:s?.bank_details?.bank_name||"Not configured"})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Account Name:"}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-900",children:s?.bank_details?.account_name||"Not configured"})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Account Number:"}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-900",children:s?.bank_details?.account_number||"Not configured"})]}),s?.bank_details?.branch_code&&(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Branch Code:"}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-900",children:s?.bank_details?.branch_code})]})]})]})}),"crypto"===H&&(0,b.jsx)("div",{className:"space-y-3",children:(0,b.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[(0,b.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Cryptocurrency Payment"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Cryptocurrency payment details will be displayed here once configured by administrator."})]})})]}),(0,b.jsxs)("div",{className:"flex space-x-3",children:[(0,b.jsx)(h.Button,{variant:"outline",onClick:()=>G(!1),className:"flex-1","aria-label":"Cancel visit request",children:"Cancel"}),(0,b.jsx)(h.Button,{onClick:ad,disabled:J,className:"flex-1 bg-red-600 hover:bg-red-700","aria-label":"Submit visit request",children:J?"Submitting...":"Pay Visit Fee"})]})]})})})]})}a.s(["default",()=>s],16550)}];

//# sourceMappingURL=src_app_%5Blocale%5D_listings_%5Bcategory%5D_%5Bid%5D_page_tsx_e3ba8323._.js.map