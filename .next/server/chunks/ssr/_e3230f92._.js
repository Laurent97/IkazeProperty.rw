module.exports=[66718,a=>{"use strict";var b=a.i(87924);let c=a.i(72131).forwardRef(({className:a,type:c,...d},e)=>(0,b.jsx)("input",{type:c,className:`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${a||""}`,ref:e,...d}));c.displayName="Input",a.s(["Input",()=>c])},77156,a=>{"use strict";let b=(0,a.i(70106).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],77156)},87532,a=>{"use strict";let b=(0,a.i(70106).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>b],87532)},41675,a=>{"use strict";let b=(0,a.i(70106).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],41675)},32860,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);a.s(["ArrowRight",()=>b],32860)},15915,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(87532),f=a.i(81010),g=a.i(48464),h=a.i(79161),i=a.i(83497),j=a.i(24987),k=a.i(41675),l=a.i(77156),m=a.i(32860),n=a.i(99570),o=a.i(91119),p=a.i(66718),q=a.i(86304),r=a.i(24507),s=a.i(71987);function t(){let[a,t]=(0,c.useState)([]),[u,v]=(0,c.useState)(!0),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)("all"),A=[{id:"houses",name:"Houses & Apartments",icon:f.Home,count:0,color:"bg-blue-500"},{id:"cars",name:"Cars & Vehicles",icon:g.Car,count:0,color:"bg-green-500"},{id:"land",name:"Land & Plots",icon:h.Trees,count:0,color:"bg-yellow-500"},{id:"other",name:"Other Items",icon:i.Package,count:0,color:"bg-purple-500"}],B=a=>{let c=(a=>{if(!a)return null;switch(a.category){case"cars":return a.car_details?{"Vehicle Type":a.car_details.vehicle_type||"Not specified",Condition:a.car_details.condition||"Not specified",Make:a.car_details.make||"Not specified",Model:a.car_details.model||"Not specified","Year Manufacture":a.car_details.year_manufacture||"Not specified",Mileage:a.car_details.mileage?`${a.car_details.mileage} km`:"Not specified","Fuel Type":a.car_details.fuel_type||"Not specified",Transmission:a.car_details.transmission||"Not specified",Color:a.car_details.color||"Not specified",Doors:a.car_details.doors||"Not specified",Seats:a.car_details.seats||"Not specified","Engine Capacity":a.car_details.engine_capacity?`${a.car_details.engine_capacity} cc`:"Not specified"}:null;case"houses":return a.house_details?{"Property Type":a.house_details.property_type||"Not specified",Condition:a.house_details.condition||"Not specified",Bedrooms:a.house_details.bedrooms||"Not specified",Bathrooms:a.house_details.bathrooms||"Not specified","Total Area":a.house_details.total_area?`${a.house_details.total_area} m\xb2`:"Not specified","Year Built":a.house_details.year_built||"Not specified",Furnished:a.house_details.furnished||"Not specified",Parking:a.house_details.parking||"Not specified"}:null;case"land":return a.land_details?{"Plot Type":a.land_details.plot_type||"Not specified",Shape:a.land_details.shape||"Not specified","Plot Size":a.land_details.plot_size?`${a.land_details.plot_size} ${a.land_details.size_unit||"mÂ²"}`:"Not specified",Topography:a.land_details.topography||"Not specified","Road Access":a.land_details.road_access||"Not specified","Land Title Type":a.land_details.land_title_type||"Not specified",Fenced:a.land_details.fenced?"Yes":"No",Surveyed:a.land_details.surveyed?"Yes":"No"}:null;case"other":return a.other_details?{Subcategory:a.other_details.subcategory||"Not specified",Brand:a.other_details.brand||"Not specified",Model:a.other_details.model||"Not specified",Condition:a.other_details.condition||"Not specified","Warranty Available":a.other_details.warranty_available?"Yes":"No","Warranty Period":a.other_details.warranty_period||"Not specified","Reason for Selling":a.other_details.reason_for_selling||"Not specified","Age of Item":a.other_details.age_of_item||"Not specified"}:null;default:return null}})(a);return c?(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:Object.entries(c).map(([a,c])=>(0,b.jsxs)("div",{children:[(0,b.jsxs)("span",{className:"text-gray-600",children:[a,":"]}),(0,b.jsx)("span",{className:"font-medium text-gray-900",children:c})]},a))}):null};(0,c.useEffect)(()=>{C()},[]);let C=async()=>{try{v(!0);let a=[];for(let b of A){let{listings:c}=await (0,r.fetchListingsWithDetails)({category:b.id,limit:10});a.push(...c)}let b=a.sort((a,b)=>{let c=a.listing_promotions?.some(a=>"active"===a.status&&new Date(a.expires_at)>new Date),d=b.listing_promotions?.some(a=>"active"===a.status&&new Date(a.expires_at)>new Date);return c&&!d?-1:!c&&d?1:new Date(b.created_at).getTime()-new Date(a.created_at).getTime()});t(b)}catch(a){console.error("Error fetching listings:",a)}finally{v(!1)}},D=a.filter(a=>a.title.toLowerCase().includes(w.toLowerCase())||a.description?.toLowerCase().includes(w.toLowerCase()));return u?(0,b.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,b.jsxs)("div",{className:"animate-pulse",children:[(0,b.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-8"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[void 0,void 0,void 0,void 0].map((a,c)=>(0,b.jsx)("div",{className:"h-48 bg-gray-200 rounded-lg"},c))}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((a,c)=>(0,b.jsx)("div",{className:"h-64 bg-gray-200 rounded-lg"},c))})]})})}):(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)("div",{className:"bg-white shadow-sm",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Browse Listings"}),(0,b.jsx)("p",{className:"text-gray-600 mt-1",children:"Discover properties, vehicles, and more across Rwanda"})]}),(0,b.jsx)("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:(0,b.jsxs)("div",{className:"relative flex-1 sm:flex-initial",children:[(0,b.jsx)(e.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,b.jsx)(p.Input,{type:"text",placeholder:"Search listings...",value:w,onChange:a=>x(a.target.value),className:"pl-10 w-full sm:w-64"})]})})]})})}),(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Browse by Category"}),(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:A.map(a=>{let c=a.icon;return(0,b.jsx)(d.default,{href:`/listings/${a.id}`,children:(0,b.jsx)(o.Card,{className:"hover:shadow-lg transition-shadow cursor-pointer group",children:(0,b.jsxs)(o.CardContent,{className:"p-6",children:[(0,b.jsx)("div",{className:`w-12 h-12 ${a.color} rounded-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:(0,b.jsx)(c,{className:"h-6 w-6 text-white"})}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:a.name}),(0,b.jsxs)("p",{className:"text-gray-600 text-sm mb-4",children:["Explore ",a.name.toLowerCase()," in Rwanda"]}),(0,b.jsxs)("div",{className:"flex items-center text-red-600 text-sm font-medium group-hover:text-red-700",children:["Browse ",a.name,(0,b.jsx)(m.ArrowRight,{className:"h-4 w-4 ml-1"})]})]})})},a.id)})})]}),D.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Recent Listings"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:D.slice(0,6).map(a=>(0,b.jsx)(d.default,{href:`/listings/${a.category}/${a.id}`,children:(0,b.jsxs)(o.Card,{className:"hover:shadow-lg transition-shadow cursor-pointer group",children:[(0,b.jsxs)("div",{className:"relative",children:[a.media&&a.media.length>0?(0,b.jsx)("div",{className:"aspect-video relative overflow-hidden rounded-t-lg",children:(0,b.jsx)(s.default,{src:a.media[0].url,alt:a.title,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-300"})}):(0,b.jsx)("div",{className:"aspect-video bg-gray-200 rounded-t-lg flex items-center justify-center",children:(0,b.jsx)(i.Package,{className:"h-12 w-12 text-gray-400"})}),(0,b.jsxs)("div",{className:"absolute top-2 right-2 flex flex-col gap-2",children:[a.listing_promotions?.some(a=>"active"===a.status&&new Date(a.expires_at)>new Date)&&(0,b.jsx)(q.Badge,{className:"bg-gradient-to-r from-red-600 to-red-700 text-white font-semibold",children:"ðŸš€ Promoted"}),a.featured&&(0,b.jsx)(q.Badge,{className:"bg-yellow-500 text-white",children:"â­ Featured"}),(0,b.jsx)(q.Badge,{className:"bg-red-600 text-white",children:a.category})]})]}),(0,b.jsxs)(o.CardContent,{className:"p-4",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-1",children:a.title}),(0,b.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:a.description}),(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("div",{className:"text-lg font-bold text-red-600",children:((a,b="RWF")=>new Intl.NumberFormat("en-RW",{style:"currency",currency:b,minimumFractionDigits:0,maximumFractionDigits:0}).format(a))(a.price,a.currency)}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,b.jsx)(l.Eye,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:a.views||0})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(j.MapPin,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:(a=>{if(!a)return"Rwanda";if("string"==typeof a)return a;if("object"==typeof a&&null!==a){let b=[a.village,a.sector,a.address,a.district,a.province].filter(Boolean);return b.length>0?b.join(", "):"Rwanda"}return"Rwanda"})(a.location)})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(k.Calendar,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:new Date(a.created_at).toLocaleDateString()})]})]})]}),B(a)&&(0,b.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[(0,b.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Listing Details"}),B(a)]})]})},a.id))}),(0,b.jsx)("div",{className:"text-center mt-8",children:(0,b.jsx)(d.default,{href:"/listings/houses",children:(0,b.jsx)(n.Button,{size:"lg",className:"bg-red-600 hover:bg-red-700",children:"View All Houses"})})})]}),0===D.length&&(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(i.Package,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No listings found"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:w?"Try adjusting your search terms":"Check back later for new listings"}),(0,b.jsx)(d.default,{href:"/listings/houses",children:(0,b.jsx)(n.Button,{variant:"outline",children:"Browse Houses"})})]})]})]})}a.s(["default",()=>t])}];

//# sourceMappingURL=_e3230f92._.js.map