module.exports=[79832,e=>{"use strict";var t=e.i(24389);let a=null,i=()=>(a||(a=(0,t.createClient)("https://swshkufpktnacbotddpb.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN3c2hrdWZwa3RuYWNib3RkZHBiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA0NTE4MzksImV4cCI6MjA4NjAyNzgzOX0.XjlJZscCno-_czhwXqwdSlKgUUpDZty6i37mtwqcnA8",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:void 0,flowType:"pkce"},global:{headers:{Accept:"application/json","Content-Type":"application/json"}},db:{schema:"public"}})),a);i();let s=null,r=null,n=()=>{if(!s){let e="https://swshkufpktnacbotddpb.supabase.co",a=process.env.SUPABASE_SERVICE_ROLE_KEY;if(!e||!a)throw Error("Missing Supabase environment variables. Please check your .env.local file.");s=(0,t.createClient)(e,a)}return s},o=()=>{if(!r){let e="https://swshkufpktnacbotddpb.supabase.co",a=process.env.SUPABASE_SERVICE_ROLE_KEY;if(!e||!a)throw Error("Missing Supabase environment variables. Please check your .env.local file.");r=(0,t.createClient)(e,a)}return r},l=i(),c=async(e,t,a)=>{let i=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,fullName:a})}),s=await i.json();if(!i.ok)throw Error(s.error||"Registration failed");return s},u=async(e,t)=>{let{data:a,error:i}=await l.auth.signInWithPassword({email:e,password:t});if(i)throw i;return a},p=async()=>{let{error:e}=await l.auth.signOut();if(e)throw e},h=async()=>{let{data:{user:e},error:t}=await l.auth.getUser();if(t)throw t;return e},d=async e=>{let{data:t,error:a}=await l.from("users").select("*").eq("id",e).single();if(a&&"PGRST116"!==a.code)throw a;return t},w=async(e,t)=>{let a=o(),{data:i,error:s}=await a.from("users").update(t).eq("id",e).select().single();if(s)throw s;return i},g=async e=>{let t=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),a=await t.json();if(!t.ok)throw Error(a.error||"Failed to send reset email");return a},f=async e=>{let{data:{session:t}}=await l.auth.getSession();if(!t?.access_token)throw Error("No active session found. Please log in again.");let a=await fetch("/api/auth/update-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.access_token}`},body:JSON.stringify({password:e})}),i=await a.json();if(!a.ok)throw Error(i.error||"Failed to update password");return i},b=async()=>{let{data:e,error:t}=await l.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`}});if(t)throw t;return e},y=async e=>{let{data:t,error:a}=await l.auth.signInWithOtp({email:e,options:{emailRedirectTo:`${window.location.origin}/auth/callback`}});if(a)throw a;return t},I=async e=>{let{data:t,error:a}=await l.auth.updateUser({email:e});if(a)throw a;return t};e.s(["changeUserEmail",0,I,"getCurrentUser",0,h,"getSupabaseAdmin",0,n,"getSupabaseAuth",0,o,"getUserProfile",0,d,"resetPassword",0,g,"signIn",0,u,"signInWithGoogle",0,b,"signInWithMagicLink",0,y,"signOut",0,p,"signUp",0,c,"supabase",0,l,"supabaseAdmin",0,n,"supabaseAuth",0,o,"updatePassword",0,f,"updateUserProfile",0,w],79832)}];

//# sourceMappingURL=src_lib_auth_ts_f5ef5b5b._.js.map