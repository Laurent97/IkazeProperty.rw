{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Apps/IkazeProperty.rw/src/app/dashboard/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { getCurrentUser, getUserProfile } from '@/lib/auth'\n\nexport default function DashboardPage() {\n  const router = useRouter()\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    const redirectUser = async () => {\n      try {\n        const currentUser = await getCurrentUser()\n        if (!currentUser) {\n          router.push('/auth/login')\n          return\n        }\n\n        try {\n          const profile = await getUserProfile(currentUser.id)\n          const isAdmin = (profile as any)?.role === 'admin'\n\n          // Redirect to appropriate dashboard based on user role\n          if (isAdmin) {\n            router.push('/dashboard/admin')\n          } else {\n            router.push('/dashboard/user')\n          }\n        } catch (profileError) {\n          // If profile doesn't exist or any error occurs, treat as regular user\n          router.push('/dashboard/user')\n        }\n      } catch (error) {\n        router.push('/auth/login')\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    redirectUser()\n  }, [router])\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-red-600\"></div>\n      </div>\n    )\n  }\n\n  return null\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMe,SAAS;;IACtB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;mCAAC;YACR,MAAM;wDAAe;oBACnB,IAAI;wBACF,MAAM,cAAc,MAAM,IAAA,uIAAc;wBACxC,IAAI,CAAC,aAAa;4BAChB,OAAO,IAAI,CAAC;4BACZ;wBACF;wBAEA,IAAI;4BACF,MAAM,UAAU,MAAM,IAAA,uIAAc,EAAC,YAAY,EAAE;4BACnD,MAAM,UAAU,AAAC,SAAiB,SAAS;4BAE3C,uDAAuD;4BACvD,IAAI,SAAS;gCACX,OAAO,IAAI,CAAC;4BACd,OAAO;gCACL,OAAO,IAAI,CAAC;4BACd;wBACF,EAAE,OAAO,cAAc;4BACrB,sEAAsE;4BACtE,OAAO,IAAI,CAAC;wBACd;oBACF,EAAE,OAAO,OAAO;wBACd,OAAO,IAAI,CAAC;oBACd,SAAU;wBACR,WAAW;oBACb;gBACF;;YAEA;QACF;kCAAG;QAAC;KAAO;IAEX,IAAI,SAAS;QACX,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,OAAO;AACT;GA9CwB;;QACP,kJAAS;;;KADF"}}]
}