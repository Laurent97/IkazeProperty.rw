{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Apps/IkazeProperty.rw/src/app/dashboard/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { getCurrentUser, getUserProfile } from '@/lib/auth'\n\nexport default function DashboardPage() {\n  const router = useRouter()\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    const redirectUser = async () => {\n      try {\n        const currentUser = await getCurrentUser()\n        if (!currentUser) {\n          router.push('/auth/login')\n          return\n        }\n\n        try {\n          const profile = await getUserProfile(currentUser.id)\n          const isAdmin = (profile as any)?.role === 'admin'\n\n          // Redirect to appropriate dashboard based on user role\n          if (isAdmin) {\n            router.push('/dashboard/admin')\n          } else {\n            router.push('/dashboard/user')\n          }\n        } catch (profileError) {\n          // If profile doesn't exist or any error occurs, treat as regular user\n          router.push('/dashboard/user')\n        }\n      } catch (error) {\n        router.push('/auth/login')\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    redirectUser()\n  }, [router])\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-red-600\"></div>\n      </div>\n    )\n  }\n\n  return null\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,MAAM,eAAe;YACnB,IAAI;gBACF,MAAM,cAAc,MAAM,IAAA,oIAAc;gBACxC,IAAI,CAAC,aAAa;oBAChB,OAAO,IAAI,CAAC;oBACZ;gBACF;gBAEA,IAAI;oBACF,MAAM,UAAU,MAAM,IAAA,oIAAc,EAAC,YAAY,EAAE;oBACnD,MAAM,UAAU,AAAC,SAAiB,SAAS;oBAE3C,uDAAuD;oBACvD,IAAI,SAAS;wBACX,OAAO,IAAI,CAAC;oBACd,OAAO;wBACL,OAAO,IAAI,CAAC;oBACd;gBACF,EAAE,OAAO,cAAc;oBACrB,sEAAsE;oBACtE,OAAO,IAAI,CAAC;gBACd;YACF,EAAE,OAAO,OAAO;gBACd,OAAO,IAAI,CAAC;YACd,SAAU;gBACR,WAAW;YACb;QACF;QAEA;IACF,GAAG;QAAC;KAAO;IAEX,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,OAAO;AACT"}}]
}